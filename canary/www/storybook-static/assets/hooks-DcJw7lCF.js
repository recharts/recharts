import{b as I,J,K as p,a6 as Z,L as v,n as B,q as S,a7 as ke,a8 as H,o,p as b,a9 as $,C as ge,aa as Pe,ab as Q,ac as _,U as ee,c as E}from"./arrayEqualityCheck-BEqt-CBJ.js";import{aj as Ce,ae as d,ak as u,G as Se,a7 as K,w as Ee,p as ie,r as Ke,al as Ne,am as Re,an as we,ao as k,ap as Oe,aq as Be,K as Ge,J as Le,ar as te,B as Me,t as Fe,z as Ve,u as ze,A as We,as as Ye,at as qe,au as Xe,C as Ze,D as He,av as Ue,aw as je,m as Je,F as $e,ac as Qe,ad as _e,ax as ei,ay as ii,az as ti,aA as ai,af as oi,ag as ae,aB as ni,aC as G,aD as ri,aE as si,V as oe,aF as ne}from"./axisSelectors-DaxAJyom.js";import{p as ci,y as li,m as di,q as U}from"./iframe-5gSlIHH4.js";const re=e=>e.options.defaultTooltipEventType,se=e=>e.options.validateTooltipEventTypes;function ce(e,i,t){if(e==null)return i;const a=e?"axis":"item";return t==null?i:t.includes(a)?a:i}function ui(e,i){const t=re(e),a=se(e);return ce(i,t,a)}function pt(e){return I(i=>ui(i,e))}const pi=(e,i)=>{var a;const t=Number(i);if(!(ci(t)||i==null))return t>=0?(a=e==null?void 0:e[t])==null?void 0:a.value:void 0},mi=e=>e.tooltip.settings,h={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},yi={itemInteraction:{click:h,hover:h},axisInteraction:{click:h,hover:h},keyboardInteraction:h,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},le=J({name:"tooltip",initialState:yi,reducers:{addTooltipEntrySettings:{reducer(e,i){e.tooltipItemPayloads.push(v(i.payload))},prepare:p()},replaceTooltipEntrySettings:{reducer(e,i){const{prev:t,next:a}=i.payload,n=Z(e).tooltipItemPayloads.indexOf(v(t));n>-1&&(e.tooltipItemPayloads[n]=v(a))},prepare:p()},removeTooltipEntrySettings:{reducer(e,i){const t=Z(e).tooltipItemPayloads.indexOf(v(i.payload));t>-1&&e.tooltipItemPayloads.splice(t,1)},prepare:p()},setTooltipSettingsState(e,i){e.settings=i.payload},setActiveMouseOverItemIndex(e,i){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=i.payload.activeIndex,e.itemInteraction.hover.dataKey=i.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=i.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=i.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,i){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=i.payload.activeIndex,e.itemInteraction.click.dataKey=i.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=i.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=i.payload.activeCoordinate},setMouseOverAxisIndex(e,i){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=i.payload.activeIndex,e.axisInteraction.hover.dataKey=i.payload.activeDataKey,e.axisInteraction.hover.coordinate=i.payload.activeCoordinate},setMouseClickAxisIndex(e,i){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=i.payload.activeIndex,e.axisInteraction.click.dataKey=i.payload.activeDataKey,e.axisInteraction.click.coordinate=i.payload.activeCoordinate},setSyncInteraction(e,i){e.syncInteraction=i.payload},setKeyboardInteraction(e,i){e.keyboardInteraction.active=i.payload.active,e.keyboardInteraction.index=i.payload.activeIndex,e.keyboardInteraction.coordinate=i.payload.activeCoordinate}}}),{addTooltipEntrySettings:mt,replaceTooltipEntrySettings:yt,removeTooltipEntrySettings:ft,setTooltipSettingsState:xt,setActiveMouseOverItemIndex:vt,mouseLeaveItem:At,mouseLeaveChart:It,setActiveClickItemIndex:ht,setMouseOverAxisIndex:Tt,setMouseClickAxisIndex:bt,setSyncInteraction:Dt,setKeyboardInteraction:kt}=le.actions,gt=le.reducer;function fi(e,i,t){return i==="axis"?t==="click"?e.axisInteraction.click:e.axisInteraction.hover:t==="click"?e.itemInteraction.click:e.itemInteraction.hover}function xi(e){return e.index!=null}const vi=(e,i,t,a)=>{if(i==null)return h;const n=fi(e,i,t);if(n==null)return h;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;const r=e.settings.active===!0;if(xi(n)){if(r)return{...n,active:!0}}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a,graphicalItemId:void 0};return{...h,coordinate:n.coordinate}};function Ai(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){const t=e.valueOf();return Number.isFinite(t)?t:void 0}const i=Number(e);return Number.isFinite(i)?i:void 0}function Ii(e,i){const t=Ai(e),a=i[0],n=i[1];if(t===void 0)return!1;const r=Math.min(a,n),l=Math.max(a,n);return t>=r&&t<=l}function hi(e,i,t){if(t==null||i==null)return!0;const a=S(e,i);return a==null||!Ce(t)?!0:Ii(a,t)}const Ti=(e,i,t,a)=>{const n=e==null?void 0:e.index;if(n==null)return null;const r=Number(n);if(!B(r))return n;const l=0;let m=1/0;i.length>0&&(m=i.length-1);const y=Math.max(l,Math.min(r,m)),f=i[y];return f==null||hi(f,t,a)?String(y):null},bi=(e,i,t,a,n,r,l)=>{if(r==null)return;const m=l[0],y=m==null?void 0:m.getPosition(r);if(y!=null)return y;const f=n==null?void 0:n[Number(r)];if(f)switch(t){case"horizontal":return{x:f.coordinate,y:(a.top+i)/2};default:return{x:(a.left+e)/2,y:f.coordinate}}},Di=(e,i,t,a)=>{if(i==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];let n;if(t==="hover"?n=e.itemInteraction.hover.graphicalItemId:n=e.itemInteraction.click.graphicalItemId,e.syncInteraction.active&&n==null)return e.tooltipItemPayloads;if(n==null&&a!=null){const r=e.tooltipItemPayloads[0];return r!=null?[r]:[]}return e.tooltipItemPayloads.filter(r=>{var l;return((l=r.settings)==null?void 0:l.graphicalItemId)===n})},ki=e=>e.options.tooltipPayloadSearcher,de=e=>e.tooltip;function gi(e){if(typeof e=="string"||typeof e=="number")return e}function Pi(e){if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e}function Ci(e){if(typeof e=="string"||typeof e=="number")return e;if(typeof e=="function")return i=>e(i)}function j(e){if(typeof e=="string")return e}function Si(e){if(e==null||typeof e!="object")return;const i="name"in e?gi(e.name):void 0,t="unit"in e?Pi(e.unit):void 0,a="dataKey"in e?Ci(e.dataKey):void 0,n="payload"in e?e.payload:void 0,r="color"in e?j(e.color):void 0,l="fill"in e?j(e.fill):void 0;return{name:i,unit:t,dataKey:a,payload:n,color:r,fill:l}}function Ei(e,i){return e??i}const Ki=(e,i,t,a,n,r,l)=>{if(i==null||r==null)return;const{chartData:m,computedData:y,dataStartIndex:f,dataEndIndex:R}=t,A=[];return e.reduce((x,{dataDefinedOnItem:D,settings:s})=>{const w=Ei(D,m),C=Array.isArray(w)?ke(w,f,R):w,W=(s==null?void 0:s.dataKey)??a,Y=s==null?void 0:s.nameKey;let T;return a&&Array.isArray(C)&&!Array.isArray(C[0])&&l==="axis"?T=li(C,a,n):T=r(C,i,y,Y),Array.isArray(T)?T.forEach(be=>{const c=Si(be),O=c==null?void 0:c.name,q=c==null?void 0:c.dataKey,X=c==null?void 0:c.payload,De={...s,name:O,unit:c==null?void 0:c.unit,color:(c==null?void 0:c.color)??(s==null?void 0:s.color),fill:(c==null?void 0:c.fill)??(s==null?void 0:s.fill)};x.push(H({tooltipEntrySettings:De,dataKey:q,payload:X,value:S(X,q),name:O==null?void 0:String(O)}))}):x.push(H({tooltipEntrySettings:s,dataKey:W,payload:T,value:S(T,W),name:S(T,Y)??(s==null?void 0:s.name)})),x},A)},L=o([d,Ne,Re],we),Ni=o([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,i)=>[...e,...i]),Ri=o([u,k],$e),g=o([Ni,d,Ri],We,{memoizeOptions:{resultEqualityCheck:$}}),wi=o([g],e=>e.filter(ae)),Oi=o([g],Me,{memoizeOptions:{resultEqualityCheck:$}}),N=o([Oi,K],Ee),Bi=o([wi,K,d],oi),M=o([N,d,g],Fe),ue=o([d],Ye),Gi=o([d],e=>e.allowDataOverflow),pe=o([ue,Gi],qe),Li=o([g],e=>e.filter(ae)),Mi=o([Bi,Li,ie,Qe],_e),Fi=o([Mi,K,u,pe],Xe),Vi=o([g],ei),zi=o([N,d,Vi,Ze,u],He,{memoizeOptions:{resultEqualityCheck:Ue}}),Wi=o([ni,u,k],G),Yi=o([Wi,u],ii),qi=o([si,u,k],G),Xi=o([qi,u],ai),Zi=o([ri,u,k],G),Hi=o([Zi,u],ti),Ui=o([Yi,Hi,Xi],je),ji=o([d,ue,pe,Fi,zi,Ui,b,u],Ve),F=o([d,b,N,M,ie,u,ji],Ke),Ji=o([F,d,L],Je),$i=o([d,F,Ji,u],ze),me=e=>{const i=u(e),t=k(e);return Oe(e,i,t,!1)},Qi=o([d,me],Pe),_i=o([d,L,$i,Qi],Le),et=o([_i],Se),it=o([b,M,d,u],Be),tt=o([b,M,d,u],Ge),at=(e,i,t,a,n,r,l,m)=>{if(!i)return;const{type:y}=i,f=ge(e,m);if(!a)return;const R=t==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2;let A=y==="category"&&a.bandwidth?a.bandwidth()/R:0;return A=m==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?di(n[0]-n[1])*2*A:A,f&&l?l.map((x,D)=>{const s=a.map(x);return B(s)?{coordinate:s+A,value:x,index:D,offset:A}:null}).filter(U):a.domain().map((x,D)=>{const s=a.map(x);return B(s)?{coordinate:s+A,value:r?r[x]:x,index:D,offset:A}:null}).filter(U)},ye=o([b,d,L,et,me,it,tt,u],at),V=o([re,se,mi],(e,i,t)=>ce(t.shared,e,i)),fe=e=>e.tooltip.settings.trigger,z=e=>e.tooltip.settings.defaultIndex,P=o([de,V,fe,z],vi),xe=o([P,N,te,F],Ti),ve=o([ye,xe],pi),Pt=o([P],e=>{if(e)return e.dataKey}),Ct=o([P],e=>{if(e)return e.graphicalItemId}),Ae=o([de,V,fe,z],Di),ot=o([Q,_,b,ee,ye,z,Ae],bi),St=o([P,ot],(e,i)=>e!=null&&e.coordinate?e.coordinate:i),Et=o([P],e=>(e==null?void 0:e.active)??!1),nt=o([Ae,xe,K,te,ve,ki,V],Ki),rt=o([nt],e=>{if(e==null)return;const i=e.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(i))}),Ie=0,st={xAxis:{},yAxis:{},zAxis:{}},he=J({name:"cartesianAxis",initialState:st,reducers:{addXAxis:{reducer(e,i){e.xAxis[i.payload.id]=v(i.payload)},prepare:p()},replaceXAxis:{reducer(e,i){const{prev:t,next:a}=i.payload;e.xAxis[t.id]!==void 0&&(t.id!==a.id&&delete e.xAxis[t.id],e.xAxis[a.id]=v(a))},prepare:p()},removeXAxis:{reducer(e,i){delete e.xAxis[i.payload.id]},prepare:p()},addYAxis:{reducer(e,i){e.yAxis[i.payload.id]=v(i.payload)},prepare:p()},replaceYAxis:{reducer(e,i){const{prev:t,next:a}=i.payload;e.yAxis[t.id]!==void 0&&(t.id!==a.id&&delete e.yAxis[t.id],e.yAxis[a.id]=v(a))},prepare:p()},removeYAxis:{reducer(e,i){delete e.yAxis[i.payload.id]},prepare:p()},addZAxis:{reducer(e,i){e.zAxis[i.payload.id]=v(i.payload)},prepare:p()},replaceZAxis:{reducer(e,i){const{prev:t,next:a}=i.payload;e.zAxis[t.id]!==void 0&&(t.id!==a.id&&delete e.zAxis[t.id],e.zAxis[a.id]=v(a))},prepare:p()},removeZAxis:{reducer(e,i){delete e.zAxis[i.payload.id]},prepare:p()},updateYAxisWidth(e,i){const{id:t,width:a}=i.payload,n=e.yAxis[t];if(n){const r=n.widthHistory||[];if(r.length===3&&r[0]===r[2]&&a===r[1]&&a!==n.width&&Math.abs(a-(r[0]??0))<=1)return;const l=[...r,a].slice(-3);e.yAxis[t]={...n,width:a,widthHistory:l}}}}}),{addXAxis:Kt,replaceXAxis:Nt,removeXAxis:Rt,addYAxis:wt,replaceYAxis:Ot,removeYAxis:Bt,addZAxis:Gt,replaceZAxis:Lt,removeZAxis:Mt,updateYAxisWidth:Ft}=he.actions,Vt=he.reducer,Te=o([ee],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),ct=o([Te,Q,_],(e,i,t)=>{if(!(!e||i==null||t==null))return{x:e.left,y:e.top,width:Math.max(0,i-e.left-e.right),height:Math.max(0,t-e.top-e.bottom)}}),zt=e=>{const i=E();return I(t=>oe(t,"xAxis",e,i))},Wt=e=>{const i=E();return I(t=>oe(t,"yAxis",e,i))},Yt=()=>I(ve),qt=()=>I(Te),Xt=()=>I(ct),Zt=()=>I(rt),Ht=(e=Ie)=>{const i=E();return I(t=>ne(t,"xAxis",e,i))},Ut=(e=Ie)=>{const i=E();return I(t=>ne(t,"yAxis",e,i))};export{g as $,ye as A,et as B,xt as C,pt as D,L as E,de as F,Ht as G,Ut as H,ki as I,Ki as J,vi as K,N as L,F as M,Ti as N,Di as O,pi as P,bi as Q,Dt as R,Qi as S,bt as T,ui as U,Tt as V,It as W,kt as X,Et as Y,ve as Z,St as _,wt as a,gt as a0,Vt as a1,Bt as b,Xt as c,qt as d,Ie as e,zt as f,Wt as g,Gt as h,Lt as i,Mt as j,Yt as k,Kt as l,Nt as m,Rt as n,Zt as o,vt as p,At as q,Ot as r,xe as s,ht as t,Ft as u,Pt as v,Ct as w,mt as x,yt as y,ft as z};
