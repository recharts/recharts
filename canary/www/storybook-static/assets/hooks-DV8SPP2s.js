import{b as I,e as $,L as p,a6 as Z,f as v,p as B,t as S,a7 as ke,a8 as H,q as o,r as b,a9 as J,F as ge,aa as Pe,ab as Q,ac as _,U as ee,c as E}from"./arrayEqualityCheck-CCQ3u8Vd.js";import{aj as Ce,ae as d,ak as u,G as Se,a7 as N,w as Ee,p as te,r as Ne,al as Ke,am as Re,an as we,ao as k,ap as Oe,aq as Be,K as Ge,J as Fe,ar as ie,B as Le,t as Me,z as Ve,u as ze,A as We,as as Ye,at as qe,au as Xe,C as Ze,D as He,av as Ue,aw as je,m as $e,F as Je,ac as Qe,ad as _e,ax as et,ay as tt,az as it,aA as at,af as ot,ag as ae,aB as nt,aC as G,aD as rt,aE as st,V as oe,aF as ne}from"./axisSelectors-CxU8esto.js";import{p as ct,y as lt,m as dt,q as U}from"./iframe-yr43iL0r.js";const re=e=>e.options.defaultTooltipEventType,se=e=>e.options.validateTooltipEventTypes;function ce(e,t,i){if(e==null)return t;const a=e?"axis":"item";return i==null?t:i.includes(a)?a:t}function ut(e,t){const i=re(e),a=se(e);return ce(t,i,a)}function pi(e){return I(t=>ut(t,e))}const pt=(e,t)=>{var a;const i=Number(t);if(!(ct(i)||t==null))return i>=0?(a=e==null?void 0:e[i])==null?void 0:a.value:void 0},mt=e=>e.tooltip.settings,h={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},yt={itemInteraction:{click:h,hover:h},axisInteraction:{click:h,hover:h},keyboardInteraction:h,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},le=$({name:"tooltip",initialState:yt,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(v(t.payload))},prepare:p()},replaceTooltipEntrySettings:{reducer(e,t){const{prev:i,next:a}=t.payload,n=Z(e).tooltipItemPayloads.indexOf(v(i));n>-1&&(e.tooltipItemPayloads[n]=v(a))},prepare:p()},removeTooltipEntrySettings:{reducer(e,t){const i=Z(e).tooltipItemPayloads.indexOf(v(t.payload));i>-1&&e.tooltipItemPayloads.splice(i,1)},prepare:p()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:mi,replaceTooltipEntrySettings:yi,removeTooltipEntrySettings:fi,setTooltipSettingsState:xi,setActiveMouseOverItemIndex:vi,mouseLeaveItem:Ai,mouseLeaveChart:Ii,setActiveClickItemIndex:hi,setMouseOverAxisIndex:Ti,setMouseClickAxisIndex:bi,setSyncInteraction:Di,setKeyboardInteraction:ki}=le.actions,gi=le.reducer;function ft(e,t,i){return t==="axis"?i==="click"?e.axisInteraction.click:e.axisInteraction.hover:i==="click"?e.itemInteraction.click:e.itemInteraction.hover}function xt(e){return e.index!=null}const vt=(e,t,i,a)=>{if(t==null)return h;const n=ft(e,t,i);if(n==null)return h;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;const r=e.settings.active===!0;if(xt(n)){if(r)return{...n,active:!0}}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a,graphicalItemId:void 0};return{...h,coordinate:n.coordinate}};function At(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){const i=e.valueOf();return Number.isFinite(i)?i:void 0}const t=Number(e);return Number.isFinite(t)?t:void 0}function It(e,t){const i=At(e),a=t[0],n=t[1];if(i===void 0)return!1;const r=Math.min(a,n),l=Math.max(a,n);return i>=r&&i<=l}function ht(e,t,i){if(i==null||t==null)return!0;const a=S(e,t);return a==null||!Ce(i)?!0:It(a,i)}const Tt=(e,t,i,a)=>{const n=e==null?void 0:e.index;if(n==null)return null;const r=Number(n);if(!B(r))return n;const l=0;let m=1/0;t.length>0&&(m=t.length-1);const y=Math.max(l,Math.min(r,m)),f=t[y];return f==null||ht(f,i,a)?String(y):null},bt=(e,t,i,a,n,r,l)=>{if(r==null)return;const m=l[0],y=m==null?void 0:m.getPosition(r);if(y!=null)return y;const f=n==null?void 0:n[Number(r)];if(f)switch(i){case"horizontal":return{x:f.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:f.coordinate}}},Dt=(e,t,i,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];let n;if(i==="hover"?n=e.itemInteraction.hover.graphicalItemId:n=e.itemInteraction.click.graphicalItemId,e.syncInteraction.active&&n==null)return e.tooltipItemPayloads;if(n==null&&a!=null){const r=e.tooltipItemPayloads[0];return r!=null?[r]:[]}return e.tooltipItemPayloads.filter(r=>{var l;return((l=r.settings)==null?void 0:l.graphicalItemId)===n})},kt=e=>e.options.tooltipPayloadSearcher,de=e=>e.tooltip;function gt(e){if(typeof e=="string"||typeof e=="number")return e}function Pt(e){if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e}function Ct(e){if(typeof e=="string"||typeof e=="number")return e;if(typeof e=="function")return t=>e(t)}function j(e){if(typeof e=="string")return e}function St(e){if(e==null||typeof e!="object")return;const t="name"in e?gt(e.name):void 0,i="unit"in e?Pt(e.unit):void 0,a="dataKey"in e?Ct(e.dataKey):void 0,n="payload"in e?e.payload:void 0,r="color"in e?j(e.color):void 0,l="fill"in e?j(e.fill):void 0;return{name:t,unit:i,dataKey:a,payload:n,color:r,fill:l}}function Et(e,t){return e??t}const Nt=(e,t,i,a,n,r,l)=>{if(t==null||r==null)return;const{chartData:m,computedData:y,dataStartIndex:f,dataEndIndex:R}=i,A=[];return e.reduce((x,{dataDefinedOnItem:D,settings:s})=>{const w=Et(D,m),C=Array.isArray(w)?ke(w,f,R):w,W=(s==null?void 0:s.dataKey)??a,Y=s==null?void 0:s.nameKey;let T;return a&&Array.isArray(C)&&!Array.isArray(C[0])&&l==="axis"?T=lt(C,a,n):T=r(C,t,y,Y),Array.isArray(T)?T.forEach(be=>{const c=St(be),O=c==null?void 0:c.name,q=c==null?void 0:c.dataKey,X=c==null?void 0:c.payload,De={...s,name:O,unit:c==null?void 0:c.unit,color:(c==null?void 0:c.color)??(s==null?void 0:s.color),fill:(c==null?void 0:c.fill)??(s==null?void 0:s.fill)};x.push(H({tooltipEntrySettings:De,dataKey:q,payload:X,value:S(X,q),name:O==null?void 0:String(O)}))}):x.push(H({tooltipEntrySettings:s,dataKey:W,payload:T,value:S(T,W),name:S(T,Y)??(s==null?void 0:s.name)})),x},A)},F=o([d,Ke,Re],we),Kt=o([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Rt=o([u,k],Je),g=o([Kt,d,Rt],We,{memoizeOptions:{resultEqualityCheck:J}}),wt=o([g],e=>e.filter(ae)),Ot=o([g],Le,{memoizeOptions:{resultEqualityCheck:J}}),K=o([Ot,N],Ee),Bt=o([wt,N,d],ot),L=o([K,d,g],Me),ue=o([d],Ye),Gt=o([d],e=>e.allowDataOverflow),pe=o([ue,Gt],qe),Ft=o([g],e=>e.filter(ae)),Lt=o([Bt,Ft,te,Qe],_e),Mt=o([Lt,N,u,pe],Xe),Vt=o([g],et),zt=o([K,d,Vt,Ze,u],He,{memoizeOptions:{resultEqualityCheck:Ue}}),Wt=o([nt,u,k],G),Yt=o([Wt,u],tt),qt=o([st,u,k],G),Xt=o([qt,u],at),Zt=o([rt,u,k],G),Ht=o([Zt,u],it),Ut=o([Yt,Ht,Xt],je),jt=o([d,ue,pe,Mt,zt,Ut,b,u],Ve),M=o([d,b,K,L,te,u,jt],Ne),$t=o([M,d,F],$e),Jt=o([d,M,$t,u],ze),me=e=>{const t=u(e),i=k(e);return Oe(e,t,i,!1)},Qt=o([d,me],Pe),_t=o([d,F,Jt,Qt],Fe),ei=o([_t],Se),ti=o([b,L,d,u],Be),ii=o([b,L,d,u],Ge),ai=(e,t,i,a,n,r,l,m)=>{if(!t)return;const{type:y}=t,f=ge(e,m);if(!a)return;const R=i==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2;let A=y==="category"&&a.bandwidth?a.bandwidth()/R:0;return A=m==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?dt(n[0]-n[1])*2*A:A,f&&l?l.map((x,D)=>{const s=a.map(x);return B(s)?{coordinate:s+A,value:x,index:D,offset:A}:null}).filter(U):a.domain().map((x,D)=>{const s=a.map(x);return B(s)?{coordinate:s+A,value:r?r[x]:x,index:D,offset:A}:null}).filter(U)},ye=o([b,d,F,ei,me,ti,ii,u],ai),V=o([re,se,mt],(e,t,i)=>ce(i.shared,e,t)),fe=e=>e.tooltip.settings.trigger,z=e=>e.tooltip.settings.defaultIndex,P=o([de,V,fe,z],vt),xe=o([P,K,ie,M],Tt),ve=o([ye,xe],pt),Pi=o([P],e=>{if(e)return e.dataKey}),Ci=o([P],e=>{if(e)return e.graphicalItemId}),Ae=o([de,V,fe,z],Dt),oi=o([Q,_,b,ee,ye,z,Ae],bt),Si=o([P,oi],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Ei=o([P],e=>(e==null?void 0:e.active)??!1),ni=o([Ae,xe,N,ie,ve,kt,V],Nt),ri=o([ni],e=>{if(e==null)return;const t=e.map(i=>i.payload).filter(i=>i!=null);return Array.from(new Set(t))}),Ie=0,si={xAxis:{},yAxis:{},zAxis:{}},he=$({name:"cartesianAxis",initialState:si,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=v(t.payload)},prepare:p()},replaceXAxis:{reducer(e,t){const{prev:i,next:a}=t.payload;e.xAxis[i.id]!==void 0&&(i.id!==a.id&&delete e.xAxis[i.id],e.xAxis[a.id]=v(a))},prepare:p()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:p()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=v(t.payload)},prepare:p()},replaceYAxis:{reducer(e,t){const{prev:i,next:a}=t.payload;e.yAxis[i.id]!==void 0&&(i.id!==a.id&&delete e.yAxis[i.id],e.yAxis[a.id]=v(a))},prepare:p()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:p()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=v(t.payload)},prepare:p()},replaceZAxis:{reducer(e,t){const{prev:i,next:a}=t.payload;e.zAxis[i.id]!==void 0&&(i.id!==a.id&&delete e.zAxis[i.id],e.zAxis[a.id]=v(a))},prepare:p()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:p()},updateYAxisWidth(e,t){const{id:i,width:a}=t.payload,n=e.yAxis[i];if(n){const r=n.widthHistory||[];if(r.length===3&&r[0]===r[2]&&a===r[1]&&a!==n.width&&Math.abs(a-(r[0]??0))<=1)return;const l=[...r,a].slice(-3);e.yAxis[i]={...n,width:a,widthHistory:l}}}}}),{addXAxis:Ni,replaceXAxis:Ki,removeXAxis:Ri,addYAxis:wi,replaceYAxis:Oi,removeYAxis:Bi,addZAxis:Gi,replaceZAxis:Fi,removeZAxis:Li,updateYAxisWidth:Mi}=he.actions,Vi=he.reducer,Te=o([ee],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),ci=o([Te,Q,_],(e,t,i)=>{if(!(!e||t==null||i==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,i-e.top-e.bottom)}}),zi=e=>{const t=E();return I(i=>oe(i,"xAxis",e,t))},Wi=e=>{const t=E();return I(i=>oe(i,"yAxis",e,t))},Yi=()=>I(ve),qi=()=>I(Te),Xi=()=>I(ci),Zi=()=>I(ri),Hi=(e=Ie)=>{const t=E();return I(i=>ne(i,"xAxis",e,t))},Ui=(e=Ie)=>{const t=E();return I(i=>ne(i,"yAxis",e,t))};export{g as $,ye as A,ei as B,xi as C,pi as D,F as E,de as F,Hi as G,Ui as H,kt as I,Nt as J,vt as K,K as L,M,Tt as N,Dt as O,pt as P,bt as Q,Di as R,Qt as S,bi as T,ut as U,Ti as V,Ii as W,ki as X,Ei as Y,ve as Z,Si as _,wi as a,gi as a0,Vi as a1,Bi as b,Xi as c,qi as d,Ie as e,zi as f,Wi as g,Gi as h,Fi as i,Li as j,Yi as k,Ni as l,Ki as m,Ri as n,Zi as o,vi as p,Ai as q,Oi as r,xe as s,hi as t,Mi as u,Pi as v,Ci as w,mi as x,yi as y,fi as z};
