import{r as i,n as oe,G as ce,i as V,c as D,j as ue,p as me}from"./iframe-DltNrMbJ.js";import{r as Z,c as de,b as H,s as pe}from"./resolveDefaultProps-DUSmftLt.js";import{C as G}from"./Curve-DQJoehXa.js";import{L as T}from"./Layer-CESBlQPf.js";import{i as fe,a as he,C as ye}from"./ReactUtils-q-DWoBEq.js";import{A as _,D as Ae}from"./ActivePoints-DLrkoeVF.js";import{o as q,p as F,C as J,E as X,D as xe,c as j,M as ge,F as U,l as ve,b as Ee,q as $,G as O,a as Ie,n as z}from"./arrayEqualityCheck-LkDVdEVg.js";import{R as Ce,S as Pe}from"./RegisterGraphicalItemId-BssAkKZ1.js";import{u as Se,G as ke}from"./GraphicalItemClipPath-BbPDXtNe.js";import{p as Ne,C as De}from"./RechartsWrapper-BkNkb6Gi.js";import{S as Ve,a as be}from"./SetGraphicalItem-BwO0NZge.js";import{u as Me,J as We}from"./useAnimationId-BKMwNFd7.js";import{c as Be}from"./hooks-BprzVDZg.js";import{g as Te}from"./getRadiusAndStrokeWidthFromDot-dG2TYa7y.js";import{Z as ze}from"./ZIndexLayer-BSXb5mnX.js";import{V as Q,W as ee,a0 as Le,a1 as qe,a2 as Ge,a3 as we,Y as Fe}from"./axisSelectors-CKIz14Qs.js";import{s as R,a as K}from"./graphicalItemSelectors-JpKVhF4p.js";const te=(t,e,a)=>Q(t,"xAxis",R(t,e),a),ae=(t,e,a)=>ee(t,"xAxis",R(t,e),a),ne=(t,e,a)=>Q(t,"yAxis",K(t,e),a),re=(t,e,a)=>ee(t,"yAxis",K(t,e),a),Re=q([F,te,ne,ae,re],(t,e,a,l,n)=>J(t,"xAxis")?X(e,l,!1):X(a,n,!1)),Ke=(t,e)=>e,ie=q([Fe,Ke],(t,e)=>t.filter(a=>a.type==="area").find(a=>a.id===e)),le=t=>{const e=F(t);return J(e,"xAxis")?"yAxis":"xAxis"},_e=(t,e)=>le(t)==="yAxis"?K(t,e):R(t,e),Xe=(t,e,a)=>Ge(t,le(t),_e(t,e),a),$e=q([ie,Xe],(t,e)=>{var o;if(t==null||e==null)return;const{stackId:a}=t,l=we(t);if(a==null||l==null)return;const n=(o=e[a])==null?void 0:o.stackedData,s=n==null?void 0:n.find(r=>r.key===l);if(s!=null)return s.map(r=>[r[0],r[1]])}),Oe=q([F,te,ne,ae,re,$e,Le,Re,ie,qe],(t,e,a,l,n,s,{chartData:o,dataStartIndex:r,dataEndIndex:c},m,u,x)=>{if(u==null||t!=="horizontal"&&t!=="vertical"||e==null||a==null||l==null||n==null||l.length===0||n.length===0||m==null)return;const{data:y}=u;let f;if(y&&y.length>0?f=y:f=o==null?void 0:o.slice(r,c+1),f!=null)return w({layout:t,xAxis:e,yAxis:a,xAxisTicks:l,yAxisTicks:n,dataStartIndex:r,areaSettings:u,stackedData:s,displayedData:f,chartBaseValue:x,bandSize:m})});function L(t,e){return t&&t!=="none"?t:e}const Ye=t=>{const{dataKey:e,name:a,stroke:l,fill:n,legendType:s,hide:o}=t;return[{inactive:o,dataKey:e,type:s,color:L(l,n),value:U(a,e),payload:t}]},Ze=i.memo(({dataKey:t,data:e,stroke:a,strokeWidth:l,fill:n,name:s,hide:o,unit:r,tooltipType:c,id:m})=>{const u={dataDefinedOnItem:e,getPosition:oe,settings:{stroke:a,strokeWidth:l,fill:n,dataKey:t,nameKey:void 0,name:U(s,t),hide:o,type:c,color:L(a,n),unit:r,graphicalItemId:m}};return i.createElement(Pe,{tooltipEntrySettings:u})});function He({clipPathId:t,points:e,props:a}){const{needClip:l,dot:n,dataKey:s}=a,o=H(a);return i.createElement(Ae,{points:e,dot:n,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:l,clipPathId:t})}function Je({showLabels:t,children:e,points:a}){const l=a.map(n=>{const s={x:n.x??0,y:n.y??0,width:0,lowerWidth:0,upperWidth:0,height:0};return{...s,value:n.value,payload:n.payload,parentViewBox:void 0,viewBox:s,fill:void 0}});return i.createElement(ye,{value:t?l:void 0},e)}function Y({points:t,baseLine:e,needClip:a,clipPathId:l,props:n}){const{layout:s,type:o,stroke:r,connectNulls:c,isRange:m}=n,{id:u,...x}=n,y=H(x),f=pe(x);return i.createElement(i.Fragment,null,(t==null?void 0:t.length)>1&&i.createElement(T,{clipPath:a?`url(#clipPath-${l})`:void 0},i.createElement(G,{...f,id:u,points:t,connectNulls:c,type:o,baseLine:e,layout:s,stroke:"none",className:"recharts-area-area"}),r!=="none"&&i.createElement(G,{...y,className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:t}),r!=="none"&&m&&Array.isArray(e)&&i.createElement(G,{...y,className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:e})),i.createElement(He,{points:t,props:x,clipPathId:l}))}function je({alpha:t,baseLine:e,points:a,strokeWidth:l}){var c,m;const n=(c=a[0])==null?void 0:c.y,s=(m=a[a.length-1])==null?void 0:m.y;if(!z(n)||!z(s))return null;const o=t*Math.abs(n-s);let r=Math.max(...a.map(u=>u.x||0));return V(e)?r=Math.max(e,r):e&&Array.isArray(e)&&e.length&&(r=Math.max(...e.map(u=>u.x||0),r)),V(r)?i.createElement("rect",{x:0,y:n<s?n:n-o,width:r+(l?parseInt(`${l}`,10):1),height:Math.floor(o)}):null}function Ue({alpha:t,baseLine:e,points:a,strokeWidth:l}){var c,m;const n=(c=a[0])==null?void 0:c.x,s=(m=a[a.length-1])==null?void 0:m.x;if(!z(n)||!z(s))return null;const o=t*Math.abs(n-s);let r=Math.max(...a.map(u=>u.y||0));return V(e)?r=Math.max(e,r):e&&Array.isArray(e)&&e.length&&(r=Math.max(...e.map(u=>u.y||0),r)),V(r)?i.createElement("rect",{x:n<s?n:n-o,y:0,width:o,height:Math.floor(r+(l?parseInt(`${l}`,10):1))}):null}function Qe({alpha:t,layout:e,points:a,baseLine:l,strokeWidth:n}){return e==="vertical"?i.createElement(je,{alpha:t,points:a,baseLine:l,strokeWidth:n}):i.createElement(Ue,{alpha:t,points:a,baseLine:l,strokeWidth:n})}function et({needClip:t,clipPathId:e,props:a,previousPointsRef:l,previousBaselineRef:n}){const{points:s,baseLine:o,isAnimationActive:r,animationBegin:c,animationDuration:m,animationEasing:u,onAnimationStart:x,onAnimationEnd:y}=a,f=i.useMemo(()=>({points:s,baseLine:o}),[s,o]),v=Me(f,"recharts-area-"),C=Ie(),[g,P]=i.useState(!1),S=!g,d=i.useCallback(()=>{typeof y=="function"&&y(),P(!1)},[y]),p=i.useCallback(()=>{typeof x=="function"&&x(),P(!0)},[x]);if(C==null)return null;const h=l.current,E=n.current;return i.createElement(Je,{showLabels:S,points:s},a.children,i.createElement(We,{animationId:v,begin:c,duration:m,isActive:r,easing:u,onAnimationEnd:d,onAnimationStart:p,key:v},A=>{if(h){const k=h.length/s.length,B=A===1?s:s.map((I,b)=>{const M=Math.floor(b*k);if(h[M]){const W=h[M];return{...I,x:D(W.x,I.x,A),y:D(W.y,I.y,A)}}return I});let N;return V(o)?N=D(E,o,A):ue(o)||me(o)?N=D(E,0,A):N=o.map((I,b)=>{const M=Math.floor(b*k);if(Array.isArray(E)&&E[M]){const W=E[M];return{...I,x:D(W.x,I.x,A),y:D(W.y,I.y,A)}}return I}),A>0&&(l.current=B,n.current=N),i.createElement(Y,{points:B,baseLine:N,needClip:t,clipPathId:e,props:a})}return A>0&&(l.current=s,n.current=o),i.createElement(T,null,r&&i.createElement("defs",null,i.createElement("clipPath",{id:`animationClipPath-${e}`},i.createElement(Qe,{alpha:A,points:s,baseLine:o,layout:C,strokeWidth:a.strokeWidth}))),i.createElement(T,{clipPath:`url(#animationClipPath-${e})`},i.createElement(Y,{points:s,baseLine:o,needClip:t,clipPathId:e,props:a})))}),i.createElement(he,{label:a.label}))}function tt({needClip:t,clipPathId:e,props:a}){const l=i.useRef(null),n=i.useRef();return i.createElement(et,{needClip:t,clipPathId:e,props:a,previousPointsRef:l,previousBaselineRef:n})}class at extends i.PureComponent{render(){const{hide:e,dot:a,points:l,className:n,top:s,left:o,needClip:r,xAxisId:c,yAxisId:m,width:u,height:x,id:y,baseLine:f,zIndex:v}=this.props;if(e)return null;const C=de("recharts-area",n),g=y,{r:P,strokeWidth:S}=Te(a),d=fe(a),p=P*2+S,h=r?`url(#clipPath-${d?"":"dots-"}${g})`:void 0;return i.createElement(ze,{zIndex:v},i.createElement(T,{className:C},r&&i.createElement("defs",null,i.createElement(ke,{clipPathId:g,xAxisId:c,yAxisId:m}),!d&&i.createElement("clipPath",{id:`clipPath-dots-${g}`},i.createElement("rect",{x:o-p/2,y:s-p/2,width:u+p,height:x+p}))),i.createElement(tt,{needClip:r,clipPathId:g,props:this.props})),i.createElement(_,{points:l,mainColor:L(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:h}),this.props.isRange&&Array.isArray(f)&&i.createElement(_,{points:f,mainColor:L(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:h}))}}const se={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:xe.area};function nt(t){const{activeDot:e,animationBegin:a,animationDuration:l,animationEasing:n,connectNulls:s,dot:o,fill:r,fillOpacity:c,hide:m,isAnimationActive:u,legendType:x,stroke:y,xAxisId:f,yAxisId:v,...C}=Z(t,se),g=ve(),P=De(),{needClip:S}=Se(f,v),d=j(),{points:p,isRange:h,baseLine:E}=Ee(b=>Oe(b,t.id,d))??{},A=Be();if(g!=="horizontal"&&g!=="vertical"||A==null||P!=="AreaChart"&&P!=="ComposedChart")return null;const{height:k,width:B,x:N,y:I}=A;return!p||!p.length?null:i.createElement(at,{...C,activeDot:e,animationBegin:a,animationDuration:l,animationEasing:n,baseLine:E,connectNulls:s,dot:o,fill:r,fillOpacity:c,height:k,hide:m,layout:g,isAnimationActive:u==="auto"?!ce.isSsr:u,isRange:h,legendType:x,needClip:S,points:p,stroke:y,width:B,left:N,top:I,xAxisId:f,yAxisId:v})}const rt=(t,e,a,l,n)=>{const s=a??e;if(V(s))return s;const o=t==="horizontal"?n:l,r=o.scale.domain();if(o.type==="number"){const c=Math.max(r[0],r[1]),m=Math.min(r[0],r[1]);return s==="dataMin"?m:s==="dataMax"||c<0?c:Math.max(Math.min(r[0],r[1]),0)}return s==="dataMin"?r[0]:s==="dataMax"?r[1]:r[0]};function w({areaSettings:{connectNulls:t,baseValue:e,dataKey:a},stackedData:l,layout:n,chartBaseValue:s,xAxis:o,yAxis:r,displayedData:c,dataStartIndex:m,xAxisTicks:u,yAxisTicks:x,bandSize:y}){const f=l&&l.length,v=rt(n,s,e,o,r),C=n==="horizontal";let g=!1;const P=c.map((d,p)=>{let h;if(f)h=l[m+p];else{const k=$(d,a);Array.isArray(k)?(h=k,g=!0):h=[v,k]}const E=(h==null?void 0:h[1])??null,A=E==null||f&&!t&&$(d,a)==null;return C?{x:O({axis:o,ticks:u,bandSize:y,entry:d,index:p}),y:A?null:r.scale.map(E)??null,value:h,payload:d}:{x:A?null:o.scale.map(E)??null,y:O({axis:r,ticks:x,bandSize:y,entry:d,index:p}),value:h,payload:d}});let S;return f||g?S=P.map(d=>{const p=Array.isArray(d.value)?d.value[0]:null;return C?{x:d.x,y:p!=null&&d.y!=null?r.scale.map(p)??null:null,payload:d.payload}:{x:p!=null?o.scale.map(p)??null:null,y:d.y,payload:d.payload}}):S=C?r.scale.map(v):o.scale.map(v),{points:P,baseLine:S??0,isRange:g}}function it(t){const e=Z(t,se),a=j();return i.createElement(Ce,{id:e.id,type:"area"},l=>i.createElement(i.Fragment,null,i.createElement(Ve,{legendPayload:Ye(e)}),i.createElement(Ze,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:l}),i.createElement(be,{type:"area",id:l,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:ge(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:a,connectNulls:e.connectNulls}),i.createElement(nt,{...e,id:l})))}const lt=i.memo(it,Ne);lt.displayName="Area";try{w.displayName="computeArea",w.__docgenInfo={description:"",displayName:"computeArea",props:{areaSettings:{defaultValue:null,description:"",name:"areaSettings",required:!0,type:{name:"AreaSettings"}},stackedData:{defaultValue:null,description:"",name:"stackedData",required:!0,type:{name:"readonly StackDataPoint[] | undefined"}},layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},chartBaseValue:{defaultValue:null,description:"",name:"chartBaseValue",required:!0,type:{name:"BaseValue | undefined"}},xAxis:{defaultValue:null,description:"",name:"xAxis",required:!0,type:{name:"BaseAxisWithScale"}},yAxis:{defaultValue:null,description:"",name:"yAxis",required:!0,type:{name:"BaseAxisWithScale"}},displayedData:{defaultValue:null,description:"",name:"displayedData",required:!0,type:{name:"ChartData"}},dataStartIndex:{defaultValue:null,description:"",name:"dataStartIndex",required:!0,type:{name:"number"}},xAxisTicks:{defaultValue:null,description:"",name:"xAxisTicks",required:!0,type:{name:"TickItem[]"}},yAxisTicks:{defaultValue:null,description:"",name:"yAxisTicks",required:!0,type:{name:"TickItem[]"}},bandSize:{defaultValue:null,description:"",name:"bandSize",required:!0,type:{name:"number"}}}}}catch{}export{lt as A};
