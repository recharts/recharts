import{b as A,J as Z,K as u,a6 as Y,L as v,n as O,q as P,a7 as Ie,a8 as q,o,p as b,a9 as H,C as he,aa as Te,ab as U,ac as J,U as $,c as E}from"./arrayEqualityCheck-DDnB3yQJ.js";import{aj as be,ae as c,ak as l,G as De,a7 as N,w as ke,p as j,r as ge,al as Se,am as Ce,an as Pe,ao as k,ap as Ee,aq as Ne,K as Ke,J as Re,ar as Q,B as we,t as Oe,z as Be,u as Ge,A as Le,as as Me,at as Fe,au as Ve,C as ze,D as We,av as Ye,aw as qe,m as Xe,F as Ze,ac as He,ad as Ue,ax as Je,ay as $e,az as je,aA as Qe,af as _e,ag as _,aB as ea,aC as B,aD as aa,aE as ta,V as ee,aF as ae}from"./axisSelectors-BhsfxkUf.js";import{p as ia,y as oa,m as na,q as X}from"./iframe-DqbxrOnC.js";const te=e=>e.options.defaultTooltipEventType,ie=e=>e.options.validateTooltipEventTypes;function oe(e,a,t){if(e==null)return a;const i=e?"axis":"item";return t==null?a:t.includes(i)?i:a}function sa(e,a){const t=te(e),i=ie(e);return oe(a,t,i)}function it(e){return A(a=>sa(a,e))}const ra=(e,a)=>{var i;const t=Number(a);if(!(ia(t)||a==null))return t>=0?(i=e==null?void 0:e[t])==null?void 0:i.value:void 0},ca=e=>e.tooltip.settings,I={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},la={itemInteraction:{click:I,hover:I},axisInteraction:{click:I,hover:I},keyboardInteraction:I,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ne=Z({name:"tooltip",initialState:la,reducers:{addTooltipEntrySettings:{reducer(e,a){e.tooltipItemPayloads.push(v(a.payload))},prepare:u()},replaceTooltipEntrySettings:{reducer(e,a){const{prev:t,next:i}=a.payload,n=Y(e).tooltipItemPayloads.indexOf(v(t));n>-1&&(e.tooltipItemPayloads[n]=v(i))},prepare:u()},removeTooltipEntrySettings:{reducer(e,a){const t=Y(e).tooltipItemPayloads.indexOf(v(a.payload));t>-1&&e.tooltipItemPayloads.splice(t,1)},prepare:u()},setTooltipSettingsState(e,a){e.settings=a.payload},setActiveMouseOverItemIndex(e,a){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=a.payload.activeIndex,e.itemInteraction.hover.dataKey=a.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=a.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=a.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,a){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=a.payload.activeIndex,e.itemInteraction.click.dataKey=a.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=a.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=a.payload.activeCoordinate},setMouseOverAxisIndex(e,a){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=a.payload.activeIndex,e.axisInteraction.hover.dataKey=a.payload.activeDataKey,e.axisInteraction.hover.coordinate=a.payload.activeCoordinate},setMouseClickAxisIndex(e,a){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=a.payload.activeIndex,e.axisInteraction.click.dataKey=a.payload.activeDataKey,e.axisInteraction.click.coordinate=a.payload.activeCoordinate},setSyncInteraction(e,a){e.syncInteraction=a.payload},setKeyboardInteraction(e,a){e.keyboardInteraction.active=a.payload.active,e.keyboardInteraction.index=a.payload.activeIndex,e.keyboardInteraction.coordinate=a.payload.activeCoordinate}}}),{addTooltipEntrySettings:ot,replaceTooltipEntrySettings:nt,removeTooltipEntrySettings:st,setTooltipSettingsState:rt,setActiveMouseOverItemIndex:ct,mouseLeaveItem:lt,mouseLeaveChart:dt,setActiveClickItemIndex:ut,setMouseOverAxisIndex:pt,setMouseClickAxisIndex:mt,setSyncInteraction:yt,setKeyboardInteraction:xt}=ne.actions,vt=ne.reducer;function da(e,a,t){return a==="axis"?t==="click"?e.axisInteraction.click:e.axisInteraction.hover:t==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ua(e){return e.index!=null}const pa=(e,a,t,i)=>{if(a==null)return I;const n=da(e,a,t);if(n==null)return I;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;const s=e.settings.active===!0;if(ua(n)){if(s)return{...n,active:!0}}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return{...I,coordinate:n.coordinate}};function ma(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){const t=e.valueOf();return Number.isFinite(t)?t:void 0}const a=Number(e);return Number.isFinite(a)?a:void 0}function ya(e,a){const t=ma(e),i=a[0],n=a[1];if(t===void 0)return!1;const s=Math.min(i,n),d=Math.max(i,n);return t>=s&&t<=d}function xa(e,a,t){if(t==null||a==null)return!0;const i=P(e,a);return i==null||!be(t)?!0:ya(i,t)}const va=(e,a,t,i)=>{const n=e==null?void 0:e.index;if(n==null)return null;const s=Number(n);if(!O(s))return n;const d=0;let p=1/0;a.length>0&&(p=a.length-1);const m=Math.max(d,Math.min(s,p)),y=a[m];return y==null||xa(y,t,i)?String(m):null},fa=(e,a,t,i,n,s,d)=>{if(s==null)return;const p=d[0],m=p==null?void 0:p.getPosition(s);if(m!=null)return m;const y=n==null?void 0:n[Number(s)];if(y)switch(t){case"horizontal":return{x:y.coordinate,y:(i.top+a)/2};default:return{x:(i.left+e)/2,y:y.coordinate}}},Aa=(e,a,t,i)=>{if(a==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];let n;if(t==="hover"?n=e.itemInteraction.hover.graphicalItemId:n=e.itemInteraction.click.graphicalItemId,n==null&&i!=null){const s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(s=>{var d;return((d=s.settings)==null?void 0:d.graphicalItemId)===n})},Ia=e=>e.options.tooltipPayloadSearcher,se=e=>e.tooltip;function ha(e,a){return e??a}const Ta=(e,a,t,i,n,s,d)=>{if(a==null||s==null)return;const{chartData:p,computedData:m,dataStartIndex:y,dataEndIndex:R}=t,f=[];return e.reduce((x,{dataDefinedOnItem:D,settings:r})=>{const w=ha(D,p),C=Array.isArray(w)?Ie(w,y,R):w,z=(r==null?void 0:r.dataKey)??i,W=r==null?void 0:r.nameKey;let h;return i&&Array.isArray(C)&&!Array.isArray(C[0])&&d==="axis"?h=oa(C,i,n):h=s(C,a,m,W),Array.isArray(h)?h.forEach(T=>{const Ae={...r,name:T.name,unit:T.unit,color:void 0,fill:void 0};x.push(q({tooltipEntrySettings:Ae,dataKey:T.dataKey,payload:T.payload,value:P(T.payload,T.dataKey),name:T.name}))}):x.push(q({tooltipEntrySettings:r,dataKey:z,payload:h,value:P(h,z),name:P(h,W)??(r==null?void 0:r.name)})),x},f)},G=o([c,Se,Ce],Pe),ba=o([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,a)=>[...e,...a]),Da=o([l,k],Ze),g=o([ba,c,Da],Le,{memoizeOptions:{resultEqualityCheck:H}}),ka=o([g],e=>e.filter(_)),ga=o([g],we,{memoizeOptions:{resultEqualityCheck:H}}),K=o([ga,N],ke),Sa=o([ka,N,c],_e),L=o([K,c,g],Oe),re=o([c],Me),Ca=o([c],e=>e.allowDataOverflow),ce=o([re,Ca],Fe),Pa=o([g],e=>e.filter(_)),Ea=o([Sa,Pa,j,He],Ue),Na=o([Ea,N,l,ce],Ve),Ka=o([g],Je),Ra=o([K,c,Ka,ze,l],We,{memoizeOptions:{resultEqualityCheck:Ye}}),wa=o([ea,l,k],B),Oa=o([wa,l],$e),Ba=o([ta,l,k],B),Ga=o([Ba,l],Qe),La=o([aa,l,k],B),Ma=o([La,l],je),Fa=o([Oa,Ma,Ga],qe),Va=o([c,re,ce,Na,Ra,Fa,b,l],Be),M=o([c,b,K,L,j,l,Va],ge),za=o([M,c,G],Xe),Wa=o([c,M,za,l],Ge),le=e=>{const a=l(e),t=k(e);return Ee(e,a,t,!1)},Ya=o([c,le],Te),qa=o([c,G,Wa,Ya],Re),Xa=o([qa],De),Za=o([b,L,c,l],Ne),Ha=o([b,L,c,l],Ke),Ua=(e,a,t,i,n,s,d,p)=>{if(!a)return;const{type:m}=a,y=he(e,p);if(!i)return;const R=t==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2;let f=m==="category"&&i.bandwidth?i.bandwidth()/R:0;return f=p==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?na(n[0]-n[1])*2*f:f,y&&d?d.map((x,D)=>{const r=i.map(x);return O(r)?{coordinate:r+f,value:x,index:D,offset:f}:null}).filter(X):i.domain().map((x,D)=>{const r=i.map(x);return O(r)?{coordinate:r+f,value:s?s[x]:x,index:D,offset:f}:null}).filter(X)},de=o([b,c,G,Xa,le,Za,Ha,l],Ua),F=o([te,ie,ca],(e,a,t)=>oe(t.shared,e,a)),ue=e=>e.tooltip.settings.trigger,V=e=>e.tooltip.settings.defaultIndex,S=o([se,F,ue,V],pa),pe=o([S,K,Q,M],va),me=o([de,pe],ra),ft=o([S],e=>{if(e)return e.dataKey}),At=o([S],e=>{if(e)return e.graphicalItemId}),ye=o([se,F,ue,V],Aa),Ja=o([U,J,b,$,de,V,ye],fa),It=o([S,Ja],(e,a)=>e!=null&&e.coordinate?e.coordinate:a),ht=o([S],e=>(e==null?void 0:e.active)??!1),$a=o([ye,pe,N,Q,me,Ia,F],Ta),ja=o([$a],e=>{if(e==null)return;const a=e.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(a))}),xe=0,Qa={xAxis:{},yAxis:{},zAxis:{}},ve=Z({name:"cartesianAxis",initialState:Qa,reducers:{addXAxis:{reducer(e,a){e.xAxis[a.payload.id]=v(a.payload)},prepare:u()},replaceXAxis:{reducer(e,a){const{prev:t,next:i}=a.payload;e.xAxis[t.id]!==void 0&&(t.id!==i.id&&delete e.xAxis[t.id],e.xAxis[i.id]=v(i))},prepare:u()},removeXAxis:{reducer(e,a){delete e.xAxis[a.payload.id]},prepare:u()},addYAxis:{reducer(e,a){e.yAxis[a.payload.id]=v(a.payload)},prepare:u()},replaceYAxis:{reducer(e,a){const{prev:t,next:i}=a.payload;e.yAxis[t.id]!==void 0&&(t.id!==i.id&&delete e.yAxis[t.id],e.yAxis[i.id]=v(i))},prepare:u()},removeYAxis:{reducer(e,a){delete e.yAxis[a.payload.id]},prepare:u()},addZAxis:{reducer(e,a){e.zAxis[a.payload.id]=v(a.payload)},prepare:u()},replaceZAxis:{reducer(e,a){const{prev:t,next:i}=a.payload;e.zAxis[t.id]!==void 0&&(t.id!==i.id&&delete e.zAxis[t.id],e.zAxis[i.id]=v(i))},prepare:u()},removeZAxis:{reducer(e,a){delete e.zAxis[a.payload.id]},prepare:u()},updateYAxisWidth(e,a){const{id:t,width:i}=a.payload,n=e.yAxis[t];if(n){const s=n.widthHistory||[];if(s.length===3&&s[0]===s[2]&&i===s[1]&&i!==n.width&&Math.abs(i-(s[0]??0))<=1)return;const d=[...s,i].slice(-3);e.yAxis[t]={...n,width:i,widthHistory:d}}}}}),{addXAxis:Tt,replaceXAxis:bt,removeXAxis:Dt,addYAxis:kt,replaceYAxis:gt,removeYAxis:St,addZAxis:Ct,replaceZAxis:Pt,removeZAxis:Et,updateYAxisWidth:Nt}=ve.actions,Kt=ve.reducer,fe=o([$],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),_a=o([fe,U,J],(e,a,t)=>{if(!(!e||a==null||t==null))return{x:e.left,y:e.top,width:Math.max(0,a-e.left-e.right),height:Math.max(0,t-e.top-e.bottom)}}),Rt=e=>{const a=E();return A(t=>ee(t,"xAxis",e,a))},wt=e=>{const a=E();return A(t=>ee(t,"yAxis",e,a))},Ot=()=>A(me),Bt=()=>A(fe),Gt=()=>A(_a),Lt=()=>A(ja),Mt=(e=xe)=>{const a=E();return A(t=>ae(t,"xAxis",e,a))},Ft=(e=xe)=>{const a=E();return A(t=>ae(t,"yAxis",e,a))};export{g as $,de as A,Xa as B,rt as C,it as D,G as E,se as F,Mt as G,Ft as H,Ia as I,Ta as J,pa as K,K as L,M,va as N,Aa as O,ra as P,fa as Q,yt as R,Ya as S,mt as T,sa as U,pt as V,dt as W,xt as X,ht as Y,me as Z,It as _,kt as a,vt as a0,Kt as a1,St as b,Gt as c,Bt as d,xe as e,Rt as f,wt as g,Ct as h,Pt as i,Et as j,Ot as k,Tt as l,bt as m,Dt as n,Lt as o,ct as p,lt as q,gt as r,pe as s,ut as t,Nt as u,ft as v,At as w,ot as x,nt as y,st as z};
