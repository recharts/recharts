import{r as n,j as P,c as T,s as G}from"./iframe-CsBbFWpF.js";import{r as N,c as J,b as D,a as U}from"./resolveDefaultProps-Di-bRFCz.js";import{L as b}from"./Layer-B5pUJ7d6.js";import{f as X,a as $,C as j}from"./ReactUtils-B73M-NEp.js";import{C as H}from"./Curve-BV6casI8.js";import{C as Y,u as Q,a as ee,b as te}from"./tooltipContext-BJ3STaWo.js";import{o as w,D as M,c as k,F as B,b as W,q as C,G as q,m as ae,T as ne,U as ie}from"./arrayEqualityCheck-jcy1YLjA.js";import{i as le,b as oe}from"./types-DZkoNYJ-.js";import{S as re}from"./Symbols-GutgQl5i.js";import{S as L}from"./ActiveShapeUtils-Cp7opGs8.js";import{R as se,S as ce}from"./RegisterGraphicalItemId-DEKbhPBq.js";import{S as de}from"./ErrorBarContext-UJH6PLVM.js";import{u as ue,G as me}from"./GraphicalItemClipPath-BGGubKyF.js";import{W as pe,U as F,V as O,a5 as ye,X as fe,j as he}from"./axisSelectors-C8uaVJja.js";import{s as xe}from"./hooks-51EGl8Fk.js";import{S as Ie,a as Ee}from"./SetGraphicalItem-D-yEZ2eQ.js";import{u as Se,J as Ae}from"./useAnimationId-DQyCpAJd.js";import{Z as R}from"./ZIndexLayer-DoHUAHyH.js";import{p as _e}from"./CategoricalChart-BoRcIHlb.js";function K({option:t,isActive:e,...a}){return typeof t=="string"?n.createElement(L,{option:n.createElement(re,{type:t,...a}),isActive:e,shapeType:"symbols",...a}):n.createElement(L,{option:t,isActive:e,shapeType:"symbols",...a})}try{K.displayName="ScatterSymbol",K.__docgenInfo={description:"",displayName:"ScatterSymbol",props:{option:{defaultValue:null,description:"",name:"option",required:!0,type:{name:"SymbolType | ActiveShape<ScatterPointItem>"}},isActive:{defaultValue:null,description:"",name:"isActive",required:!0,type:{name:"boolean"}},cx:{defaultValue:null,description:"The x coordinate of the point center in pixels.",name:"cx",required:!0,type:{name:"number | undefined"}},cy:{defaultValue:null,description:"The y coordinate of the point center in pixels.",name:"cy",required:!0,type:{name:"number | undefined"}},x:{defaultValue:null,description:"The x coordinate (in pixels) of the top-left corner of the rectangle that wraps the point.",name:"x",required:!0,type:{name:"number | undefined"}},y:{defaultValue:null,description:"The y coordinate (in pixels) of the top-left corner of the rectangle that wraps the point.",name:"y",required:!0,type:{name:"number | undefined"}},size:{defaultValue:null,description:`ScatterPointItem size is an abstract number that is used to calculate the radius of the point.
It's not the radius itself, but rather a value that is used to calculate the radius.
Interacts with the zAxis range.`,name:"size",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"Width of the point in pixels.",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"Height of the point in pixels.",name:"height",required:!0,type:{name:"number"}},node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"ScatterPointNode"}},payload:{defaultValue:null,description:"",name:"payload",required:!1,type:{name:"any"}},tooltipPayload:{defaultValue:null,description:"",name:"tooltipPayload",required:!1,type:{name:"TooltipPayload"}},tooltipPosition:{defaultValue:null,description:"",name:"tooltipPosition",required:!0,type:{name:"Coordinate"}}}}}catch{}const ve=(t,e,a,i,l,o,r)=>F(t,"xAxis",e,r),Pe=(t,e,a,i,l,o,r)=>O(t,"xAxis",e,r),be=(t,e,a,i,l,o,r)=>F(t,"yAxis",a,r),ge=(t,e,a,i,l,o,r)=>O(t,"yAxis",a,r),Te=(t,e,a,i)=>ye(t,"zAxis",i,!1),Ce=(t,e,a,i,l)=>l,Ve=(t,e,a,i,l,o)=>o,Ke=(t,e,a,i,l,o,r)=>pe(t,void 0,void 0,r),ze=w([fe,Ce],(t,e)=>t.filter(a=>a.type==="scatter").find(a=>a.id===e)),qe=w([Ke,ve,Pe,be,ge,Te,ze,Ve],({chartData:t,dataStartIndex:e,dataEndIndex:a},i,l,o,r,u,c,m)=>{if(c==null)return;let s;if((c==null?void 0:c.data)!=null&&c.data.length>0?s=c.data:s=t==null?void 0:t.slice(e,a+1),!(s==null||i==null||o==null||l==null||r==null||(l==null?void 0:l.length)===0||(r==null?void 0:r.length)===0))return z({displayedData:s,xAxis:i,yAxis:o,zAxis:u,scatterSettings:c,xAxisTicks:l,yAxisTicks:r,cells:m})}),Le=t=>{const{dataKey:e,name:a,fill:i,legendType:l,hide:o}=t;return[{inactive:o,dataKey:e,type:l,color:i,value:B(a,e),payload:t}]},Ne=n.memo(({dataKey:t,points:e,stroke:a,strokeWidth:i,fill:l,name:o,hide:r,tooltipType:u,id:c})=>{const m={dataDefinedOnItem:e==null?void 0:e.map(s=>s.tooltipPayload),getPosition:s=>{var h;return(h=e==null?void 0:e[Number(s)])==null?void 0:h.tooltipPosition},settings:{stroke:a,strokeWidth:i,fill:l,nameKey:void 0,dataKey:t,name:B(o,t),hide:r,type:u,color:l,unit:"",graphicalItemId:c}};return n.createElement(ce,{tooltipEntrySettings:m})});function De({points:t,props:e}){const{line:a,lineType:i,lineJointType:l}=e;if(!a)return null;const o=D(e),r=U(a);let u,c;if(i==="joint")u=t.map(s=>({x:s.cx??null,y:s.cy??null}));else if(i==="fitting"){const{xmin:s,xmax:h,a:I,b:E}=G(t),x=p=>I*p+E;u=[{x:s,y:x(s)},{x:h,y:x(h)}]}const m={...o,fill:"none",stroke:o&&o.fill,...r,points:u};return n.isValidElement(a)?c=n.cloneElement(a,m):typeof a=="function"?c=a(m):c=n.createElement(H,{...m,type:l}),n.createElement(b,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}function we({showLabels:t,points:e,children:a}){const i=ae(),l=n.useMemo(()=>e==null?void 0:e.map(o=>{const r={x:o.x??0,y:o.y??0,width:o.width,height:o.height,lowerWidth:o.width,upperWidth:o.width};return{...r,value:void 0,payload:o.payload,viewBox:r,parentViewBox:i,fill:void 0}}),[i,e]);return n.createElement(j,{value:t?l:void 0},a)}function Me(t){const{points:e,allOtherScatterProps:a}=t,{shape:i,activeShape:l,dataKey:o}=a,{id:r,...u}=a,c=W(xe),{onMouseEnter:m,onClick:s,onMouseLeave:h,...I}=a,E=Q(m,o,r),x=ee(h),p=te(s,o,r);if(!le(e))return null;const y=D(u);return n.createElement(n.Fragment,null,n.createElement(De,{points:e,props:u}),e.map((d,f)=>{const S=l!=null&&l!==!1,A=S&&c===String(f),_=S&&A?l:i,v={...y,...d,[ie]:f,[ne]:String(r)};return n.createElement(R,{key:`symbol-${d==null?void 0:d.cx}-${d==null?void 0:d.cy}-${d==null?void 0:d.size}-${f}`,zIndex:A?M.activeDot:void 0},n.createElement(b,{className:"recharts-scatter-symbol",...oe(I,d,f),onMouseEnter:E(d,f),onMouseLeave:x(d,f),onClick:p(d,f)},n.createElement(K,{option:_,isActive:A,...v})))}))}function ke({previousPointsRef:t,props:e}){const{points:a,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:r}=e,u=t.current,c=Se(e,"recharts-scatter-"),[m,s]=n.useState(!1),h=n.useCallback(()=>{s(!1)},[]),I=n.useCallback(()=>{s(!0)},[]),E=!m;return n.createElement(we,{showLabels:E,points:a},e.children,n.createElement(Ae,{animationId:c,begin:l,duration:o,isActive:i,easing:r,onAnimationEnd:h,onAnimationStart:I,key:c},x=>{const p=x===1?a:a==null?void 0:a.map((y,d)=>{const f=u&&u[d];return f?{...y,cx:y.cx==null?void 0:T(f.cx,y.cx,x),cy:y.cy==null?void 0:T(f.cy,y.cy,x),size:T(f.size,y.size,x)}:{...y,size:T(0,y.size,x)}});return x>0&&(t.current=p),n.createElement(b,null,n.createElement(Me,{points:p,allOtherScatterProps:e,showLabels:E}))}),n.createElement($,{label:e.label}))}function z({displayedData:t,xAxis:e,yAxis:a,zAxis:i,scatterSettings:l,xAxisTicks:o,yAxisTicks:r,cells:u}){const c=P(e.dataKey)?l.dataKey:e.dataKey,m=P(a.dataKey)?l.dataKey:a.dataKey,s=i&&i.dataKey,h=i?i.range:he.range,I=h&&h[0],E=e.scale.bandwidth?e.scale.bandwidth():0,x=a.scale.bandwidth?a.scale.bandwidth():0;return t.map((p,y)=>{const d=C(p,c),f=C(p,m),S=!P(s)&&C(p,s)||"-",A=[{name:P(e.dataKey)?l.name:e.name||String(e.dataKey),unit:e.unit||"",value:d,payload:p,dataKey:c,type:l.tooltipType},{name:P(a.dataKey)?l.name:a.name||String(a.dataKey),unit:a.unit||"",value:f,payload:p,dataKey:m,type:l.tooltipType}];S!=="-"&&i!=null&&A.push({name:i.name||i.dataKey,unit:i.unit||"",value:S,payload:p,dataKey:s,type:l.tooltipType});const _=q({axis:e,ticks:o,bandSize:E,entry:p,index:y,dataKey:c}),v=q({axis:a,ticks:r,bandSize:x,entry:p,index:y,dataKey:m}),V=S!=="-"&&i!=null?i.scale.map(S):I,g=V==null?0:Math.sqrt(Math.max(V,0)/Math.PI);return{...p,cx:_,cy:v,x:_==null?void 0:_-g,y:v==null?void 0:v-g,width:2*g,height:2*g,size:V,node:{x:d,y:f,z:S},tooltipPayload:A,tooltipPosition:{x:_,y:v},payload:p,...u&&u[y]&&u[y].props}})}const Be=(t,e,a)=>({x:t.cx,y:t.cy,value:Number(a==="x"?t.node.x:t.node.y),errorVal:C(t,e)});function We(t){const{hide:e,points:a,className:i,needClip:l,xAxisId:o,yAxisId:r,id:u}=t,c=n.useRef(null);if(e)return null;const m=J("recharts-scatter",i),s=u;return n.createElement(R,{zIndex:t.zIndex},n.createElement(b,{className:m,clipPath:l?`url(#clipPath-${s})`:void 0,id:u},l&&n.createElement("defs",null,n.createElement(me,{clipPathId:s,xAxisId:o,yAxisId:r})),n.createElement(de,{xAxisId:o,yAxisId:r,data:a,dataPointFormatter:Be,errorBarOffset:0},n.createElement(b,{key:"recharts-scatter-symbols"},n.createElement(ke,{props:t,previousPointsRef:c})))))}const Z={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:M.scatter};function Fe(t){const{animationBegin:e,animationDuration:a,animationEasing:i,hide:l,isAnimationActive:o,legendType:r,lineJointType:u,lineType:c,shape:m,xAxisId:s,yAxisId:h,zAxisId:I,...E}=N(t,Z),{needClip:x}=ue(s,h),p=n.useMemo(()=>X(t.children,Y),[t.children]),y=k(),d=W(f=>qe(f,s,h,I,t.id,p,y));return x==null||d==null?null:n.createElement(n.Fragment,null,n.createElement(Ne,{dataKey:t.dataKey,points:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:t.id}),n.createElement(We,{...E,xAxisId:s,yAxisId:h,zAxisId:I,lineType:c,lineJointType:u,legendType:r,shape:m,hide:l,isAnimationActive:o,animationBegin:e,animationDuration:a,animationEasing:i,points:d,needClip:x}))}function Oe(t){const e=N(t,Z),a=k();return n.createElement(se,{id:e.id,type:"scatter"},i=>n.createElement(n.Fragment,null,n.createElement(Ie,{legendPayload:Le(e)}),n.createElement(Ee,{type:"scatter",id:i,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:e.zAxisId,dataKey:e.dataKey,hide:e.hide,name:e.name,tooltipType:e.tooltipType,isPanorama:a}),n.createElement(Fe,{...e,id:i})))}const Re=n.memo(Oe,_e);Re.displayName="Scatter";try{z.displayName="computeScatterPoints",z.__docgenInfo={description:"",displayName:"computeScatterPoints",props:{displayedData:{defaultValue:null,description:"",name:"displayedData",required:!0,type:{name:"readonly any[]"}},xAxis:{defaultValue:null,description:"",name:"xAxis",required:!0,type:{name:"BaseAxisWithScale"}},yAxis:{defaultValue:null,description:"",name:"yAxis",required:!0,type:{name:"BaseAxisWithScale"}},zAxis:{defaultValue:null,description:"",name:"zAxis",required:!0,type:{name:"ZAxisWithScale | undefined"}},scatterSettings:{defaultValue:null,description:"",name:"scatterSettings",required:!0,type:{name:"ScatterSettings"}},xAxisTicks:{defaultValue:null,description:"",name:"xAxisTicks",required:!0,type:{name:"readonly TickItem[] | undefined"}},yAxisTicks:{defaultValue:null,description:"",name:"yAxisTicks",required:!0,type:{name:"readonly TickItem[] | undefined"}},cells:{defaultValue:null,description:"",name:"cells",required:!0,type:{name:"readonly ReactElement<any, string | JSXElementConstructor<any>>[] | undefined"}}}}}catch{}export{Re as S};
