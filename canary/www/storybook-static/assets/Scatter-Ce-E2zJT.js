import{r as n,j as b,c as C,t as G}from"./iframe-CcI14rjx.js";import{r as w,c as J,b as N,a as $}from"./resolveDefaultProps-po8mUv-4.js";import{L as P}from"./Layer-8dVuGqJD.js";import{f as j,a as X,C as U}from"./ReactUtils-C84uddRP.js";import{C as Y}from"./Curve-CHXnr1rt.js";import{C as H,u as Q,a as ee,b as te}from"./tooltipContext-C9iRPvdc.js";import{o as D,D as k,c as M,F as B,b as W,q as T,G as z,m as ae,T as ne}from"./arrayEqualityCheck-B8tVyMzV.js";import{i as ie,b as le}from"./types-Ce3J44ym.js";import{S as oe}from"./Symbols-CXif55_q.js";import{S as L}from"./ActiveShapeUtils-DL6WZdbr.js";import{R as re,S as se}from"./RegisterGraphicalItemId-hDx3Uu0O.js";import{S as ce}from"./ErrorBarContext-CRPnKTk6.js";import{u as de,G as ue}from"./GraphicalItemClipPath-CPgfiSVt.js";import{X as me,V as F,W as O,a6 as pe,Y as ye,j as fe}from"./axisSelectors-RKSisFMT.js";import{s as he}from"./hooks-CRZN5urL.js";import{S as xe,a as Ie}from"./SetGraphicalItem-GKBrKzuX.js";import{u as Ee,J as Se}from"./useAnimationId-B5oI4zFf.js";import{Z}from"./ZIndexLayer-DuQEL0lP.js";import{p as Ae}from"./RechartsWrapper-Ds5PaNoP.js";function K({option:t,isActive:e,...a}){return typeof t=="string"?n.createElement(L,{option:n.createElement(oe,{type:t,...a}),isActive:e,shapeType:"symbols",...a}):n.createElement(L,{option:t,isActive:e,shapeType:"symbols",...a})}try{K.displayName="ScatterSymbol",K.__docgenInfo={description:"",displayName:"ScatterSymbol",props:{option:{defaultValue:null,description:"",name:"option",required:!0,type:{name:"SymbolType | ActiveShape<ScatterShapeProps>"}},isActive:{defaultValue:null,description:"",name:"isActive",required:!0,type:{name:"boolean"}},cx:{defaultValue:null,description:"The x coordinate of the point center in pixels.",name:"cx",required:!0,type:{name:"number | undefined"}},cy:{defaultValue:null,description:"The y coordinate of the point center in pixels.",name:"cy",required:!0,type:{name:"number | undefined"}},x:{defaultValue:null,description:"The x coordinate (in pixels) of the top-left corner of the rectangle that wraps the point.",name:"x",required:!0,type:{name:"number | undefined"}},y:{defaultValue:null,description:"The y coordinate (in pixels) of the top-left corner of the rectangle that wraps the point.",name:"y",required:!0,type:{name:"number | undefined"}},size:{defaultValue:null,description:`ScatterPointItem size is an abstract number that is used to calculate the radius of the point.
It's not the radius itself, but rather a value that is used to calculate the radius.
Interacts with the zAxis range.`,name:"size",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"Width of the point in pixels.",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"Height of the point in pixels.",name:"height",required:!0,type:{name:"number"}},node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"ScatterPointNode"}},payload:{defaultValue:null,description:"",name:"payload",required:!1,type:{name:"any"}},tooltipPayload:{defaultValue:null,description:"",name:"tooltipPayload",required:!1,type:{name:"TooltipPayload"}},tooltipPosition:{defaultValue:null,description:"",name:"tooltipPosition",required:!0,type:{name:"Coordinate"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},"data-recharts-item-id":{defaultValue:null,description:"",name:"data-recharts-item-id",required:!0,type:{name:"string"}}}}}catch{}const ve=(t,e,a,l,i,o,r)=>F(t,"xAxis",e,r),_e=(t,e,a,l,i,o,r)=>O(t,"xAxis",e,r),be=(t,e,a,l,i,o,r)=>F(t,"yAxis",a,r),Pe=(t,e,a,l,i,o,r)=>O(t,"yAxis",a,r),ge=(t,e,a,l)=>pe(t,"zAxis",l,!1),Ce=(t,e,a,l,i)=>i,Te=(t,e,a,l,i,o)=>o,Ve=(t,e,a,l,i,o,r)=>me(t,void 0,void 0,r),Ke=D([ye,Ce],(t,e)=>t.filter(a=>a.type==="scatter").find(a=>a.id===e)),qe=D([Ve,ve,_e,be,Pe,ge,Ke,Te],({chartData:t,dataStartIndex:e,dataEndIndex:a},l,i,o,r,u,c,m)=>{if(c==null)return;let s;if((c==null?void 0:c.data)!=null&&c.data.length>0?s=c.data:s=t==null?void 0:t.slice(e,a+1),!(s==null||l==null||o==null||i==null||r==null||(i==null?void 0:i.length)===0||(r==null?void 0:r.length)===0))return q({displayedData:s,xAxis:l,yAxis:o,zAxis:u,scatterSettings:c,xAxisTicks:i,yAxisTicks:r,cells:m})}),ze=t=>{const{dataKey:e,name:a,fill:l,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:l,value:B(a,e),payload:t}]},Le=n.memo(({dataKey:t,points:e,stroke:a,strokeWidth:l,fill:i,name:o,hide:r,tooltipType:u,id:c})=>{const m={dataDefinedOnItem:e==null?void 0:e.map(s=>s.tooltipPayload),getPosition:s=>{var h;return(h=e==null?void 0:e[Number(s)])==null?void 0:h.tooltipPosition},settings:{stroke:a,strokeWidth:l,fill:i,nameKey:void 0,dataKey:t,name:B(o,t),hide:r,type:u,color:i,unit:"",graphicalItemId:c}};return n.createElement(se,{tooltipEntrySettings:m})});function we({points:t,props:e}){const{line:a,lineType:l,lineJointType:i}=e;if(!a)return null;const o=N(e),r=$(a);let u,c;if(l==="joint")u=t.map(s=>({x:s.cx??null,y:s.cy??null}));else if(l==="fitting"){const{xmin:s,xmax:h,a:I,b:E}=G(t),x=p=>I*p+E;u=[{x:s,y:x(s)},{x:h,y:x(h)}]}const m={...o,fill:"none",stroke:o&&o.fill,...r,points:u};return n.isValidElement(a)?c=n.cloneElement(a,m):typeof a=="function"?c=a(m):c=n.createElement(Y,{...m,type:i}),n.createElement(P,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}function Ne({showLabels:t,points:e,children:a}){const l=ae(),i=n.useMemo(()=>e==null?void 0:e.map(o=>{const r={x:o.x??0,y:o.y??0,width:o.width,height:o.height,lowerWidth:o.width,upperWidth:o.width};return{...r,value:void 0,payload:o.payload,viewBox:r,parentViewBox:l,fill:void 0}}),[l,e]);return n.createElement(U,{value:t?i:void 0},a)}function De(t){const{points:e,allOtherScatterProps:a}=t,{shape:l,activeShape:i,dataKey:o}=a,{id:r,...u}=a,c=W(he),{onMouseEnter:m,onClick:s,onMouseLeave:h,...I}=a,E=Q(m,o,r),x=ee(h),p=te(s,o,r);if(!ie(e))return null;const y=N(u);return n.createElement(n.Fragment,null,n.createElement(we,{points:e,props:u}),e.map((d,f)=>{const S=i!=null&&i!==!1,A=S&&c===String(f),v=S&&A?i:l,_={...y,...d,index:f,[ne]:String(r)};return n.createElement(Z,{key:`symbol-${d==null?void 0:d.cx}-${d==null?void 0:d.cy}-${d==null?void 0:d.size}-${f}`,zIndex:A?k.activeDot:void 0},n.createElement(P,{className:"recharts-scatter-symbol",...le(I,d,f),onMouseEnter:E(d,f),onMouseLeave:x(d,f),onClick:p(d,f)},n.createElement(K,{option:v,isActive:A,..._})))}))}function ke({previousPointsRef:t,props:e}){const{points:a,isAnimationActive:l,animationBegin:i,animationDuration:o,animationEasing:r}=e,u=t.current,c=Ee(e,"recharts-scatter-"),[m,s]=n.useState(!1),h=n.useCallback(()=>{s(!1)},[]),I=n.useCallback(()=>{s(!0)},[]),E=!m;return n.createElement(Ne,{showLabels:E,points:a},e.children,n.createElement(Se,{animationId:c,begin:i,duration:o,isActive:l,easing:r,onAnimationEnd:h,onAnimationStart:I,key:c},x=>{const p=x===1?a:a==null?void 0:a.map((y,d)=>{const f=u&&u[d];return f?{...y,cx:y.cx==null?void 0:C(f.cx,y.cx,x),cy:y.cy==null?void 0:C(f.cy,y.cy,x),size:C(f.size,y.size,x)}:{...y,size:C(0,y.size,x)}});return x>0&&(t.current=p),n.createElement(P,null,n.createElement(De,{points:p,allOtherScatterProps:e,showLabels:E}))}),n.createElement(X,{label:e.label}))}function q({displayedData:t,xAxis:e,yAxis:a,zAxis:l,scatterSettings:i,xAxisTicks:o,yAxisTicks:r,cells:u}){const c=b(e.dataKey)?i.dataKey:e.dataKey,m=b(a.dataKey)?i.dataKey:a.dataKey,s=l&&l.dataKey,h=l?l.range:fe.range,I=h&&h[0],E=e.scale.bandwidth?e.scale.bandwidth():0,x=a.scale.bandwidth?a.scale.bandwidth():0;return t.map((p,y)=>{const d=T(p,c),f=T(p,m),S=!b(s)&&T(p,s)||"-",A=[{name:b(e.dataKey)?i.name:e.name||String(e.dataKey),unit:e.unit||"",value:d,payload:p,dataKey:c,type:i.tooltipType,graphicalItemId:i.id},{name:b(a.dataKey)?i.name:a.name||String(a.dataKey),unit:a.unit||"",value:f,payload:p,dataKey:m,type:i.tooltipType,graphicalItemId:i.id}];S!=="-"&&l!=null&&A.push({name:l.name||l.dataKey,unit:l.unit||"",value:S,payload:p,dataKey:s,type:i.tooltipType,graphicalItemId:i.id});const v=z({axis:e,ticks:o,bandSize:E,entry:p,index:y,dataKey:c}),_=z({axis:a,ticks:r,bandSize:x,entry:p,index:y,dataKey:m}),V=S!=="-"&&l!=null?l.scale.map(S):I,g=V==null?0:Math.sqrt(Math.max(V,0)/Math.PI);return{...p,cx:v,cy:_,x:v==null?void 0:v-g,y:_==null?void 0:_-g,width:2*g,height:2*g,size:V,node:{x:d,y:f,z:S},tooltipPayload:A,tooltipPosition:{x:v,y:_},payload:p,...u&&u[y]&&u[y].props}})}const Me=(t,e,a)=>({x:t.cx,y:t.cy,value:Number(a==="x"?t.node.x:t.node.y),errorVal:T(t,e)});function Be(t){const{hide:e,points:a,className:l,needClip:i,xAxisId:o,yAxisId:r,id:u}=t,c=n.useRef(null);if(e)return null;const m=J("recharts-scatter",l),s=u;return n.createElement(Z,{zIndex:t.zIndex},n.createElement(P,{className:m,clipPath:i?`url(#clipPath-${s})`:void 0,id:u},i&&n.createElement("defs",null,n.createElement(ue,{clipPathId:s,xAxisId:o,yAxisId:r})),n.createElement(ce,{xAxisId:o,yAxisId:r,data:a,dataPointFormatter:Me,errorBarOffset:0},n.createElement(P,{key:"recharts-scatter-symbols"},n.createElement(ke,{props:t,previousPointsRef:c})))))}const R={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:k.scatter};function We(t){const{animationBegin:e,animationDuration:a,animationEasing:l,hide:i,isAnimationActive:o,legendType:r,lineJointType:u,lineType:c,shape:m,xAxisId:s,yAxisId:h,zAxisId:I,...E}=w(t,R),{needClip:x}=de(s,h),p=n.useMemo(()=>j(t.children,H),[t.children]),y=M(),d=W(f=>qe(f,s,h,I,t.id,p,y));return x==null||d==null?null:n.createElement(n.Fragment,null,n.createElement(Le,{dataKey:t.dataKey,points:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:t.id}),n.createElement(Be,{...E,xAxisId:s,yAxisId:h,zAxisId:I,lineType:c,lineJointType:u,legendType:r,shape:m,hide:i,isAnimationActive:o,animationBegin:e,animationDuration:a,animationEasing:l,points:d,needClip:x}))}function Fe(t){const e=w(t,R),a=M();return n.createElement(re,{id:e.id,type:"scatter"},l=>n.createElement(n.Fragment,null,n.createElement(xe,{legendPayload:ze(e)}),n.createElement(Ie,{type:"scatter",id:l,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:e.zAxisId,dataKey:e.dataKey,hide:e.hide,name:e.name,tooltipType:e.tooltipType,isPanorama:a}),n.createElement(We,{...e,id:l})))}const Oe=n.memo(Fe,Ae);Oe.displayName="Scatter";try{q.displayName="computeScatterPoints",q.__docgenInfo={description:"",displayName:"computeScatterPoints",props:{displayedData:{defaultValue:null,description:"",name:"displayedData",required:!0,type:{name:"readonly unknown[]"}},xAxis:{defaultValue:null,description:"",name:"xAxis",required:!0,type:{name:"BaseAxisWithScale"}},yAxis:{defaultValue:null,description:"",name:"yAxis",required:!0,type:{name:"BaseAxisWithScale"}},zAxis:{defaultValue:null,description:"",name:"zAxis",required:!0,type:{name:"ZAxisWithScale | undefined"}},scatterSettings:{defaultValue:null,description:"",name:"scatterSettings",required:!0,type:{name:"ScatterSettings"}},xAxisTicks:{defaultValue:null,description:"",name:"xAxisTicks",required:!0,type:{name:"readonly TickItem[] | undefined"}},yAxisTicks:{defaultValue:null,description:"",name:"yAxisTicks",required:!0,type:{name:"readonly TickItem[] | undefined"}},cells:{defaultValue:null,description:"",name:"cells",required:!0,type:{name:"readonly ReactElement<any, string | JSXElementConstructor<any>>[] | undefined"}}}}}catch{}export{Oe as S};
