var ye=Object.defineProperty;var ge=(r,e,t)=>e in r?ye(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var x=(r,e,t)=>ge(r,typeof e!="symbol"?e+"":e,t);import{_ as ve}from"./assets/preload-helper-Dp1pzeXC.js";class ce{constructor(){x(this,"registryByUrl",new Map);x(this,"registryById",new Map)}clear(){this.registryByUrl.clear(),this.registryById.clear()}keys(){return this.registryByUrl.keys()}add(e){this.registryByUrl.set(e.url,e),this.registryById.set(e.id,e)}register(e,t,n,i,s){const a=typeof e=="object"?e.type:e;if(typeof e=="object"){const o=e;if(o instanceof F||o instanceof C||o instanceof D||o instanceof N)throw new TypeError(`[vitest] Cannot register a mock that is already defined. Expected a JSON representation from \`MockedModule.toJSON\`, instead got "${o.type}". Use "registry.add()" to update a mock instead.`);if(o.type==="automock"){const l=F.fromJSON(o);return this.add(l),l}else if(o.type==="autospy"){const l=C.fromJSON(o);return this.add(l),l}else if(o.type==="redirect"){const l=N.fromJSON(o);return this.add(l),l}else throw o.type==="manual"?new Error("Cannot set serialized manual mock. Define a factory function manually with `ManualMockedModule.fromJSON()`."):new Error(`Unknown mock type: ${o.type}`)}if(typeof t!="string")throw new TypeError("[vitest] Mocks require a raw string.");if(typeof i!="string")throw new TypeError("[vitest] Mocks require a url string.");if(typeof n!="string")throw new TypeError("[vitest] Mocks require an id string.");if(a==="manual"){if(typeof s!="function")throw new TypeError("[vitest] Manual mocks require a factory function.");const o=new D(t,n,i,s);return this.add(o),o}else if(a==="automock"||a==="autospy"){const o=a==="automock"?new F(t,n,i):new C(t,n,i);return this.add(o),o}else if(a==="redirect"){if(typeof s!="string")throw new TypeError("[vitest] Redirect mocks require a redirect string.");const o=new N(t,n,i,s);return this.add(o),o}else throw new Error(`[vitest] Unknown mock type: ${a}`)}delete(e){this.registryByUrl.delete(e)}get(e){return this.registryByUrl.get(e)}getById(e){return this.registryById.get(e)}has(e){return this.registryByUrl.has(e)}}class F{constructor(e,t,n){x(this,"type","automock");this.raw=e,this.id=t,this.url=n}static fromJSON(e){return new C(e.raw,e.id,e.url)}toJSON(){return{type:this.type,url:this.url,raw:this.raw,id:this.id}}}class C{constructor(e,t,n){x(this,"type","autospy");this.raw=e,this.id=t,this.url=n}static fromJSON(e){return new C(e.raw,e.id,e.url)}toJSON(){return{type:this.type,url:this.url,id:this.id,raw:this.raw}}}class N{constructor(e,t,n,i){x(this,"type","redirect");this.raw=e,this.id=t,this.url=n,this.redirect=i}static fromJSON(e){return new N(e.raw,e.id,e.url,e.redirect)}toJSON(){return{type:this.type,url:this.url,raw:this.raw,id:this.id,redirect:this.redirect}}}class D{constructor(e,t,n,i){x(this,"cache");x(this,"type","manual");this.raw=e,this.id=t,this.url=n,this.factory=i}async resolve(){if(this.cache)return this.cache;let e;try{e=await this.factory()}catch(t){const n=new Error('[vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock');throw n.cause=t,n}if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`[vitest] vi.mock("${this.raw}", factory?: () => unknown) is not returning an object. Did you mean to return an object with a "default" key?`);return this.cache=e}static fromJSON(e,t){return new D(e.raw,e.id,e.url,t)}toJSON(){return{type:this.type,url:this.url,id:this.id,raw:this.raw}}}function we(r,e,t={}){const n=new Array,i=new ke,s=(l,d,h)=>{try{return l[d]=h,!0}catch{return!1}},a=(l,d)=>{const h=U(l),g=h==="Module"||!!l.__esModule;for(const{key:w,descriptor:b}of H(l,g,r.globalConstructors)){if(!g&&b.get){try{Object.defineProperty(d,w,b)}catch{}continue}if(Se(w,h))continue;const y=l[w],c=i.getId(y);if(c!==void 0){n.push(()=>s(d,w,i.getMockedValue(c)));continue}const u=U(y);if(Array.isArray(y)){s(d,w,[]);continue}const T=u.includes("Function")&&typeof y=="function";if((!T||y._isMockFunction)&&u!=="Object"&&u!=="Module"){s(d,w,y);continue}if(s(d,w,T?y:{})){if(T){let _=function(){if(this instanceof d[w])for(const{key:I,descriptor:A}of H(this,!1,r.globalConstructors)){if(A.get)continue;const L=this[I];if(U(L).includes("Function")&&typeof L=="function"){const J=this[I],f=R(this,I).mockImplementation(J),P=f.mockReset;f.mockRestore=f.mockReset=()=>(P.call(f),f.mockImplementation(J),f)}}};if(!r.spyOn)throw new Error("[@vitest/mocker] `spyOn` is not defined. This is a Vitest error. Please open a new issue with reproduction.");const R=r.spyOn,M=R(d,w);if(r.type==="automock"){M.mockImplementation(_);const I=M.mockReset;M.mockRestore=M.mockReset=()=>(I.call(M),M.mockImplementation(_),M)}Object.defineProperty(d[w],"length",{value:0})}i.track(y,d[w]),a(y,d[w])}}},o=t;a(e,o);for(const l of n)l();return o}class ke{constructor(){x(this,"idMap",new Map);x(this,"mockedValueMap",new Map)}getId(e){return this.idMap.get(e)}getMockedValue(e){return this.mockedValueMap.get(e)}track(e,t){const n=this.idMap.size;return this.idMap.set(e,n),this.mockedValueMap.set(n,t),n}}function U(r){return Object.prototype.toString.apply(r).slice(8,-1)}function Se(r,e){return e.includes("Function")&&typeof r=="string"&&["arguments","callee","caller","length","name"].includes(r)}function H(r,e,t){const{Map:n,Object:i,Function:s,RegExp:a,Array:o}=t,l=new n;let d=r;do{if(d===i.prototype||d===s.prototype||d===a.prototype)break;_e(d,h=>{const g=i.getOwnPropertyDescriptor(d,h);g&&l.set(h,{key:h,descriptor:g})})}while(d=i.getPrototypeOf(d));if(e&&!l.has("default")&&"default"in r){const h=i.getOwnPropertyDescriptor(r,"default");h&&l.set("default",{key:"default",descriptor:h})}return o.from(l.values())}function _e(r,e){const t=typeof e=="function"?e:n=>e.add(n);Object.getOwnPropertyNames(r).forEach(t),Object.getOwnPropertySymbols(r).forEach(t)}const Ee=/^[A-Za-z]:\//;function ae(r=""){return r&&r.replace(/\\/g,"/").replace(Ee,e=>e.toUpperCase())}const be=/^[/\\]{2}/,Ie=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,xe=/^[A-Za-z]:$/,Te=/.(\.[^./]+|\.)$/,$e=function(r){if(r.length===0)return".";r=ae(r);const e=r.match(be),t=Z(r),n=r[r.length-1]==="/";return r=Me(r,!t),r.length===0?t?"/":n?"./":".":(n&&(r+="/"),xe.test(r)&&(r+="/"),e?t?`//${r}`:`//./${r}`:t&&!Z(r)?`/${r}`:r)},Pe=function(...r){let e="";for(const t of r)if(t)if(e.length>0){const n=e[e.length-1]==="/",i=t[0]==="/";n&&i?e+=t.slice(1):e+=n||i?t:`/${t}`}else e+=t;return $e(e)};function Me(r,e){let t="",n=0,i=-1,s=0,a=null;for(let o=0;o<=r.length;++o){if(o<r.length)a=r[o];else{if(a==="/")break;a="/"}if(a==="/"){if(!(i===o-1||s===1))if(s===2){if(t.length<2||n!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){const l=t.lastIndexOf("/");l===-1?(t="",n=0):(t=t.slice(0,l),n=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}else if(t.length>0){t="",n=0,i=o,s=0;continue}}e&&(t+=t.length>0?"/..":"..",n=2)}else t.length>0?t+=`/${r.slice(i+1,o)}`:t=r.slice(i+1,o),n=o-i-1;i=o,s=0}else a==="."&&s!==-1?++s:s=-1}return t}const Z=function(r){return Ie.test(r)},Re=function(r){if(r==="..")return"";const e=Te.exec(ae(r));return e&&e[1]||""};var Ae={reset:[0,0],bold:[1,22,"\x1B[22m\x1B[1m"],dim:[2,22,"\x1B[22m\x1B[2m"],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},Oe=Object.entries(Ae);function Y(r){return String(r)}Y.open="";Y.close="";function Ce(r=!1){let e=typeof process<"u"?process:void 0,t=(e==null?void 0:e.env)||{},n=(e==null?void 0:e.argv)||[];return!("NO_COLOR"in t||n.includes("--no-color"))&&("FORCE_COLOR"in t||n.includes("--color")||(e==null?void 0:e.platform)==="win32"||r&&t.TERM!=="dumb"||"CI"in t)||typeof window<"u"&&!!window.chrome}function Ne(r=!1){let e=Ce(r),t=(a,o,l,d)=>{let h="",g=0;do h+=a.substring(g,d)+l,g=d+o.length,d=a.indexOf(o,g);while(~d);return h+a.substring(g)},n=(a,o,l=a)=>{let d=h=>{let g=String(h),w=g.indexOf(o,a.length);return~w?a+t(g,o,l,w)+o:a+g+o};return d.open=a,d.close=o,d},i={isColorSupported:e},s=a=>`\x1B[${a}m`;for(let[a,o]of Oe)i[a]=e?n(s(o[0]),s(o[1]),o[2]):Y;return i}Ne();function le(r,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if(n!=="default"&&!(n in r)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})}),Object.freeze(r)}function ue(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var z={exports:{}},k={};/**
* @license React
* react-is.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var G;function Le(){if(G)return k;G=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function y(c){if(typeof c=="object"&&c!==null){var u=c.$$typeof;switch(u){case r:switch(c=c.type,c){case t:case i:case n:case l:case d:case w:return c;default:switch(c=c&&c.$$typeof,c){case a:case o:case g:case h:return c;case s:return c;default:return u}}case e:return u}}}return k.ContextConsumer=s,k.ContextProvider=a,k.Element=r,k.ForwardRef=o,k.Fragment=t,k.Lazy=g,k.Memo=h,k.Portal=e,k.Profiler=i,k.StrictMode=n,k.Suspense=l,k.SuspenseList=d,k.isContextConsumer=function(c){return y(c)===s},k.isContextProvider=function(c){return y(c)===a},k.isElement=function(c){return typeof c=="object"&&c!==null&&c.$$typeof===r},k.isForwardRef=function(c){return y(c)===o},k.isFragment=function(c){return y(c)===t},k.isLazy=function(c){return y(c)===g},k.isMemo=function(c){return y(c)===h},k.isPortal=function(c){return y(c)===e},k.isProfiler=function(c){return y(c)===i},k.isStrictMode=function(c){return y(c)===n},k.isSuspense=function(c){return y(c)===l},k.isSuspenseList=function(c){return y(c)===d},k.isValidElementType=function(c){return typeof c=="string"||typeof c=="function"||c===t||c===i||c===n||c===l||c===d||typeof c=="object"&&c!==null&&(c.$$typeof===g||c.$$typeof===h||c.$$typeof===a||c.$$typeof===s||c.$$typeof===o||c.$$typeof===b||c.getModuleId!==void 0)},k.typeOf=y,k}var Q;function Je(){return Q||(Q=1,z.exports=Le()),z.exports}var fe=Je(),Be=ue(fe),Xe=le({__proto__:null,default:Be},[fe]),V={exports:{}},v={};/**
* @license React
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ee;function qe(){if(ee)return v;ee=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function c(u){if(typeof u=="object"&&u!==null){var T=u.$$typeof;switch(T){case r:switch(u=u.type,u){case t:case i:case n:case d:case h:return u;default:switch(u=u&&u.$$typeof,u){case o:case a:case l:case w:case g:case s:return u;default:return T}}case e:return T}}}return v.ContextConsumer=a,v.ContextProvider=s,v.Element=r,v.ForwardRef=l,v.Fragment=t,v.Lazy=w,v.Memo=g,v.Portal=e,v.Profiler=i,v.StrictMode=n,v.Suspense=d,v.SuspenseList=h,v.isAsyncMode=function(){return!1},v.isConcurrentMode=function(){return!1},v.isContextConsumer=function(u){return c(u)===a},v.isContextProvider=function(u){return c(u)===s},v.isElement=function(u){return typeof u=="object"&&u!==null&&u.$$typeof===r},v.isForwardRef=function(u){return c(u)===l},v.isFragment=function(u){return c(u)===t},v.isLazy=function(u){return c(u)===w},v.isMemo=function(u){return c(u)===g},v.isPortal=function(u){return c(u)===e},v.isProfiler=function(u){return c(u)===i},v.isStrictMode=function(u){return c(u)===n},v.isSuspense=function(u){return c(u)===d},v.isSuspenseList=function(u){return c(u)===h},v.isValidElementType=function(u){return typeof u=="string"||typeof u=="function"||u===t||u===i||u===n||u===d||u===h||u===b||typeof u=="object"&&u!==null&&(u.$$typeof===w||u.$$typeof===g||u.$$typeof===s||u.$$typeof===a||u.$$typeof===l||u.$$typeof===y||u.getModuleId!==void 0)},v.typeOf=c,v}var te;function Fe(){return te||(te=1,V.exports=qe()),V.exports}var de=Fe(),De=ue(de),Ue=le({__proto__:null,default:De},[de]);const ze=["isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isSuspenseList","isValidElementType"];Object.fromEntries(ze.map(r=>[r,e=>Ue[r](e)||Xe[r](e)]));let Ve=()=>"Promise{â€¦}";try{const{getPromiseDetails:r,kPending:e,kRejected:t}=process.binding("util");Array.isArray(r(Promise.resolve()))&&(Ve=(n,i)=>{const[s,a]=r(n);return s===e?"Promise{<pending>}":`Promise${s===t?"!":""}{${i.inspect(a,i)}}`})}catch{}function We(r){const{message:e="$$stack trace error",stackTraceLimit:t=1}=r||{},n=Error.stackTraceLimit,i=Error.prepareStackTrace;Error.stackTraceLimit=t,Error.prepareStackTrace=o=>o.stack;const a=new Error(e).stack||"";return Error.prepareStackTrace=i,Error.stackTraceLimit=n,a}var W,re;function je(){if(re)return W;re=1;var r,e,t,n,i,s,a,o,l,d,h,g,w,b,y,c,u,T,R;return w=/\/(?![*\/])(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\\]).|\\.)*(\/[$_\u200C\u200D\p{ID_Continue}]*|\\)?/uy,g=/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/y,r=/(\x23?)(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/uy,y=/(['"])(?:(?!\1)[^\\\n\r]|\\(?:\r\n|[^]))*(\1)?/y,h=/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/y,c=/[`}](?:[^`\\$]|\\[^]|\$(?!\{))*(`|\$\{)?/y,R=/[\t\v\f\ufeff\p{Zs}]+/uy,o=/\r?\n|[\r\u2028\u2029]/y,l=/\/\*(?:[^*]|\*(?!\/))*(\*\/)?/y,b=/\/\/.*/y,t=/[<>.:={}]|\/(?![\/*])/y,e=/[$_\p{ID_Start}][$_\u200C\u200D\p{ID_Continue}-]*/uy,n=/(['"])(?:(?!\1)[^])*(\1)?/y,i=/[^<>{}]+/y,T=/^(?:[\/+-]|\.{3}|\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/,u=/^(?:=>|[;\]){}]|else|\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/,s=/^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/,a=/^(?:return|throw|yield)$/,d=RegExp(o.source),W=function*(_,{jsx:M=!1}={}){var I,A,L,p,m,J,f,P,K,$,B,S,X,E;for({length:J}=_,p=0,m="",E=[{tag:"JS"}],I=[],B=0,S=!1;p<J;){switch(P=E[E.length-1],P.tag){case"JS":case"JSNonExpressionParen":case"InterpolationInTemplate":case"InterpolationInJSX":if(_[p]==="/"&&(T.test(m)||s.test(m))&&(w.lastIndex=p,f=w.exec(_))){p=w.lastIndex,m=f[0],S=!0,yield{type:"RegularExpressionLiteral",value:f[0],closed:f[1]!==void 0&&f[1]!=="\\"};continue}if(g.lastIndex=p,f=g.exec(_)){switch(X=f[0],K=g.lastIndex,$=X,X){case"(":m==="?NonExpressionParenKeyword"&&E.push({tag:"JSNonExpressionParen",nesting:B}),B++,S=!1;break;case")":B--,S=!0,P.tag==="JSNonExpressionParen"&&B===P.nesting&&(E.pop(),$="?NonExpressionParenEnd",S=!1);break;case"{":g.lastIndex=0,L=!u.test(m)&&(T.test(m)||s.test(m)),I.push(L),S=!1;break;case"}":switch(P.tag){case"InterpolationInTemplate":if(I.length===P.nesting){c.lastIndex=p,f=c.exec(_),p=c.lastIndex,m=f[0],f[1]==="${"?(m="?InterpolationInTemplate",S=!1,yield{type:"TemplateMiddle",value:f[0]}):(E.pop(),S=!0,yield{type:"TemplateTail",value:f[0],closed:f[1]==="`"});continue}break;case"InterpolationInJSX":if(I.length===P.nesting){E.pop(),p+=1,m="}",yield{type:"JSXPunctuator",value:"}"};continue}}S=I.pop(),$=S?"?ExpressionBraceEnd":"}";break;case"]":S=!0;break;case"++":case"--":$=S?"?PostfixIncDec":"?UnaryIncDec";break;case"<":if(M&&(T.test(m)||s.test(m))){E.push({tag:"JSXTag"}),p+=1,m="<",yield{type:"JSXPunctuator",value:X};continue}S=!1;break;default:S=!1}p=K,m=$,yield{type:"Punctuator",value:X};continue}if(r.lastIndex=p,f=r.exec(_)){switch(p=r.lastIndex,$=f[0],f[0]){case"for":case"if":case"while":case"with":m!=="."&&m!=="?."&&($="?NonExpressionParenKeyword")}m=$,S=!s.test(f[0]),yield{type:f[1]==="#"?"PrivateIdentifier":"IdentifierName",value:f[0]};continue}if(y.lastIndex=p,f=y.exec(_)){p=y.lastIndex,m=f[0],S=!0,yield{type:"StringLiteral",value:f[0],closed:f[2]!==void 0};continue}if(h.lastIndex=p,f=h.exec(_)){p=h.lastIndex,m=f[0],S=!0,yield{type:"NumericLiteral",value:f[0]};continue}if(c.lastIndex=p,f=c.exec(_)){p=c.lastIndex,m=f[0],f[1]==="${"?(m="?InterpolationInTemplate",E.push({tag:"InterpolationInTemplate",nesting:I.length}),S=!1,yield{type:"TemplateHead",value:f[0]}):(S=!0,yield{type:"NoSubstitutionTemplate",value:f[0],closed:f[1]==="`"});continue}break;case"JSXTag":case"JSXTagEnd":if(t.lastIndex=p,f=t.exec(_)){switch(p=t.lastIndex,$=f[0],f[0]){case"<":E.push({tag:"JSXTag"});break;case">":E.pop(),m==="/"||P.tag==="JSXTagEnd"?($="?JSX",S=!0):E.push({tag:"JSXChildren"});break;case"{":E.push({tag:"InterpolationInJSX",nesting:I.length}),$="?InterpolationInJSX",S=!1;break;case"/":m==="<"&&(E.pop(),E[E.length-1].tag==="JSXChildren"&&E.pop(),E.push({tag:"JSXTagEnd"}))}m=$,yield{type:"JSXPunctuator",value:f[0]};continue}if(e.lastIndex=p,f=e.exec(_)){p=e.lastIndex,m=f[0],yield{type:"JSXIdentifier",value:f[0]};continue}if(n.lastIndex=p,f=n.exec(_)){p=n.lastIndex,m=f[0],yield{type:"JSXString",value:f[0],closed:f[2]!==void 0};continue}break;case"JSXChildren":if(i.lastIndex=p,f=i.exec(_)){p=i.lastIndex,m=f[0],yield{type:"JSXText",value:f[0]};continue}switch(_[p]){case"<":E.push({tag:"JSXTag"}),p++,m="<",yield{type:"JSXPunctuator",value:"<"};continue;case"{":E.push({tag:"InterpolationInJSX",nesting:I.length}),p++,m="?InterpolationInJSX",S=!1,yield{type:"JSXPunctuator",value:"{"};continue}}if(R.lastIndex=p,f=R.exec(_)){p=R.lastIndex,yield{type:"WhiteSpace",value:f[0]};continue}if(o.lastIndex=p,f=o.exec(_)){p=o.lastIndex,S=!1,a.test(m)&&(m="?NoLineTerminatorHere"),yield{type:"LineTerminatorSequence",value:f[0]};continue}if(l.lastIndex=p,f=l.exec(_)){p=l.lastIndex,d.test(f[0])&&(S=!1,a.test(m)&&(m="?NoLineTerminatorHere")),yield{type:"MultiLineComment",value:f[0],closed:f[1]!==void 0};continue}if(b.lastIndex=p,f=b.exec(_)){p=b.lastIndex,S=!1,yield{type:"SingleLineComment",value:f[0]};continue}A=String.fromCodePoint(_.codePointAt(p)),p+=A.length,m=A,S=!1,yield{type:P.tag.startsWith("JSX")?"JSXInvalid":"Invalid",value:A}}},W}je();var pe={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"]};new Set(pe.keyword);new Set(pe.strict);const ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ye=new Uint8Array(64),Ke=new Uint8Array(128);for(let r=0;r<ne.length;r++){const e=ne.charCodeAt(r);Ye[r]=e,Ke[e]=r}var ie;(function(r){r[r.Empty=1]="Empty",r[r.Hash=2]="Hash",r[r.Query=3]="Query",r[r.RelativePath=4]="RelativePath",r[r.AbsolutePath=5]="AbsolutePath",r[r.SchemeRelative=6]="SchemeRelative",r[r.Absolute=7]="Absolute"})(ie||(ie={}));const He=/^[A-Za-z]:\//;function Ze(r=""){return r&&r.replace(/\\/g,"/").replace(He,e=>e.toUpperCase())}const Ge=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/;function Qe(){return typeof process<"u"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}const et=function(...r){r=r.map(n=>Ze(n));let e="",t=!1;for(let n=r.length-1;n>=-1&&!t;n--){const i=n>=0?r[n]:Qe();!i||i.length===0||(e=`${i}/${e}`,t=oe(i))}return e=tt(e,!t),t&&!oe(e)?`/${e}`:e.length>0?e:"."};function tt(r,e){let t="",n=0,i=-1,s=0,a=null;for(let o=0;o<=r.length;++o){if(o<r.length)a=r[o];else{if(a==="/")break;a="/"}if(a==="/"){if(!(i===o-1||s===1))if(s===2){if(t.length<2||n!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){const l=t.lastIndexOf("/");l===-1?(t="",n=0):(t=t.slice(0,l),n=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}else if(t.length>0){t="",n=0,i=o,s=0;continue}}e&&(t+=t.length>0?"/..":"..",n=2)}else t.length>0?t+=`/${r.slice(i+1,o)}`:t=r.slice(i+1,o),n=o-i-1;i=o,s=0}else a==="."&&s!==-1?++s:s=-1}return t}const oe=function(r){return Ge.test(r)},he=/^\s*at .*(?:\S:\d+|\(native\))/m,rt=/^(?:eval@)?(?:\[native code\])?$/;function me(r){if(!r.includes(":"))return[r];const t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(r.replace(/^\(|\)$/g,""));if(!t)return[r];let n=t[1];if(n.startsWith("async ")&&(n=n.slice(6)),n.startsWith("http:")||n.startsWith("https:")){const i=new URL(n);i.searchParams.delete("import"),i.searchParams.delete("browserv"),n=i.pathname+i.hash+i.search}if(n.startsWith("/@fs/")){const i=/^\/@fs\/[a-zA-Z]:\//.test(n);n=n.slice(i?5:4)}return[n,t[2]||void 0,t[3]||void 0]}function nt(r){let e=r.trim();if(rt.test(e)||(e.includes(" > eval")&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!e.includes("@")&&!e.includes(":")))return null;const t=/((.*".+"[^@]*)?[^@]*)(@)/,n=e.match(t),i=n&&n[1]?n[1]:void 0,[s,a,o]=me(e.replace(t,""));return!s||!a||!o?null:{file:s,method:i||"",line:Number.parseInt(a),column:Number.parseInt(o)}}function it(r){const e=r.trim();return he.test(e)?ot(e):nt(e)}function ot(r){let e=r.trim();if(!he.test(e))return null;e.includes("(eval ")&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");const n=t.match(/ (\(.+\)$)/);t=n?t.replace(n[0],""):t;const[i,s,a]=me(n?n[1]:t);let o=n&&t||"",l=i&&["eval","<anonymous>"].includes(i)?void 0:i;return!l||!s||!a?null:(o.startsWith("async ")&&(o=o.slice(6)),l.startsWith("file://")&&(l=l.slice(7)),l=l.startsWith("node:")||l.startsWith("internal:")?l:et(l),o&&(o=o.replace(/__vite_ssr_import_\d+__\./g,"")),{method:o,file:l,line:Number.parseInt(s),column:Number.parseInt(a)})}function st(r){const e=(r==null?void 0:r.globalThisKey)||"__vitest_mocker__";function t(){return typeof globalThis[e]<"u"?globalThis[e]:new Proxy({},{get(n,i){throw new Error(`Vitest mocker was not initialized in this environment. vi.${String(i)}() is forbidden.`)}})}return{hoisted(n){if(typeof n!="function")throw new TypeError(`vi.hoisted() expects a function, but received a ${typeof n}`);return n()},mock(n,i){if(typeof n!="string")throw new TypeError(`vi.mock() expects a string path, but received a ${typeof n}`);const s=O("mock");t().queueMock(n,s,typeof i=="function"?()=>i(()=>t().importActual(n,s)):i)},unmock(n){if(typeof n!="string")throw new TypeError(`vi.unmock() expects a string path, but received a ${typeof n}`);t().queueUnmock(n,O("unmock"))},doMock(n,i){if(typeof n!="string")throw new TypeError(`vi.doMock() expects a string path, but received a ${typeof n}`);const s=O("doMock");t().queueMock(n,s,typeof i=="function"?()=>i(()=>t().importActual(n,s)):i)},doUnmock(n){if(typeof n!="string")throw new TypeError(`vi.doUnmock() expects a string path, but received a ${typeof n}`);t().queueUnmock(n,O("doUnmock"))},async importActual(n){return t().importActual(n,O("importActual"))},async importMock(n){return t().importMock(n,O("importMock"))}}}function O(r){const t=We({stackTraceLimit:5}).split(`
`),n=t.findIndex(s=>s.includes(` at Object.${r}`)||s.includes(`${r}@`)),i=it(t[n+1]);return(i==null?void 0:i.file)||""}const{now:se}=Date;class ct{constructor(e,t,n,i){x(this,"registry",new ce);x(this,"queue",new Set);x(this,"mockedIds",new Set);this.interceptor=e,this.rpc=t,this.spyOn=n,this.config=i}async prepare(){this.queue.size&&await Promise.all([...this.queue.values()])}async resolveFactoryModule(e){const t=this.registry.get(e);if(!t||t.type!=="manual")throw new Error(`Mock ${e} wasn't registered. This is probably a Vitest error. Please, open a new issue with reproduction.`);return await t.resolve()}getFactoryModule(e){const t=this.registry.get(e);if(!t||t.type!=="manual")throw new Error(`Mock ${e} wasn't registered. This is probably a Vitest error. Please, open a new issue with reproduction.`);if(!t.cache)throw new Error(`Mock ${e} wasn't resolved. This is probably a Vitest error. Please, open a new issue with reproduction.`);return t.cache}async invalidate(){const e=Array.from(this.mockedIds);e.length&&(await this.rpc.invalidate(e),await this.interceptor.invalidate(),this.registry.clear())}async importActual(e,t){const n=await this.rpc.resolveId(e,t);if(n==null)throw new Error(`[vitest] Cannot resolve "${e}" imported from "${t}"`);const i=Re(n.id),s=new URL(n.url,location.href),a=`_vitest_original&ext${i}`,o=`${s.pathname}${s.search?`${s.search}&${a}`:`?${a}`}${s.hash}`;return this.wrapDynamicImport(()=>import(o)).then(l=>{if(!n.optimized||typeof l.default>"u")return l;const d=l.default;return d!=null&&d.__esModule?d:{...typeof d=="object"&&!Array.isArray(d)||typeof d=="function"?d:{},default:d}})}async importMock(e,t){await this.prepare();const{resolvedId:n,resolvedUrl:i,redirectUrl:s}=await this.rpc.resolveMock(e,t,{mock:"auto"}),a=this.resolveMockPath(q(i));let o=this.registry.get(a);if(!o)if(s){const l=new URL(this.resolveMockPath(q(s)),location.href).toString();o=new N(e,n,a,l)}else o=new F(e,n,a);if(o.type==="manual")return await o.resolve();if(o.type==="automock"||o.type==="autospy"){const l=new URL(`/@id/${n}`,location.href),d=l.search?`${l.search}&t=${se()}`:`?t=${se()}`,h=await ve(()=>import(`${l.pathname}${d}&mock=${o.type}${l.hash}`),[],import.meta.url);return this.mockObject(h,o.type)}return import(o.redirect)}mockObject(e,t="automock"){return we({globalConstructors:{Object,Function,Array,Map,RegExp},spyOn:this.spyOn,type:t},e)}queueMock(e,t,n){const i=this.rpc.resolveMock(e,t,{mock:typeof n=="function"?"factory":n!=null&&n.spy?"spy":"auto"}).then(async({redirectUrl:s,resolvedId:a,resolvedUrl:o,needsInterop:l,mockType:d})=>{const h=this.resolveMockPath(q(o));this.mockedIds.add(a);const g=typeof n=="function"?async()=>{const y=await n();return l?{default:y}:y}:void 0,w=typeof s=="string"?new URL(this.resolveMockPath(q(s)),location.href).toString():null;let b;d==="manual"?b=this.registry.register("manual",e,a,h,g):d==="autospy"?b=this.registry.register("autospy",e,a,h):d==="redirect"?b=this.registry.register("redirect",e,a,h,w):b=this.registry.register("automock",e,a,h),await this.interceptor.register(b)}).finally(()=>{this.queue.delete(i)});this.queue.add(i)}queueUnmock(e,t){const n=this.rpc.resolveId(e,t).then(async i=>{if(!i)return;const s=this.resolveMockPath(q(i.url));this.mockedIds.add(i.id),this.registry.delete(s),await this.interceptor.delete(s)}).finally(()=>{this.queue.delete(n)});this.queue.add(n)}wrapDynamicImport(e){return typeof e=="function"?new Promise((n,i)=>{this.prepare().finally(()=>{e().then(n,i)})}):e}resolveMockPath(e){const t=this.config,n=Pe("/@fs/",t.root);return e.startsWith(t.root)?e.slice(t.root.length):e.startsWith(n)?e.slice(n.length):e}}const at=/(\?|&)v=\w{8}/;function q(r){return r.replace(at,"")}class lt{constructor(){x(this,"mocks",new ce)}async register(e){this.mocks.add(e)}async delete(e){this.mocks.delete(e)}async invalidate(){this.mocks.clear()}}const j=r=>{switch(r){case"resolveId":return Promise.resolve({id:"",url:"",optimized:!1});case"resolveMock":return Promise.resolve({mockType:"dummy",resolvedId:"",resolvedUrl:"",redirectUrl:"",needsInterop:!1});case"invalidate":return Promise.resolve()}};class ut extends ct{queueMock(){}}function ft(r){const e=new ut(r("__vitest_mocker__"),{resolveId(t,n){return j("resolveId")},resolveMock(t,n,i){return j("resolveMock")},async invalidate(t){return j("invalidate")}},(...t)=>globalThis.__STORYBOOK_MODULE_TEST__.spyOn(...t),{root:""});return globalThis.__vitest_mocker__=e,st({globalThisKey:"__vitest_mocker__"})}globalThis.__STORYBOOK_MOCKER__=ft(()=>new lt);
